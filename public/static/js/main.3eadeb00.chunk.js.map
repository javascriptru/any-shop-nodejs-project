{"version":3,"sources":["serviceWorker.js","store/modules/auth/constants.js","store/modules/auth/reducer.js","store/modules/categories/constants.js","store/modules/categories/reducer.js","store/modules/chat/constants.js","store/modules/chat/reducer.js","store/modules/orders/constants.js","store/modules/orders/reducer.js","store/modules/products/constants.js","store/modules/products/reducer.js","store/index.js","components/Modal/ModalBtnBack.js","components/Modal/ModalBtnClose.js","components/Modal/Modal.js","components/Chat/ChatMessage.js","components/Chat/ChatInner.js","network.js","store/modules/chat/actions.js","store/modules/auth/actions.js","components/Chat/Chat.js","components/ModalContextMenu.js","store/modules/helpers/useModal.js","components/ModalMenu/ModalAsItem.js","components/ModalMenu/ModalMenu.js","store/modules/categories/actions.js","components/Header.js","components/Footer.js","components/Dropdown.js","components/ListGroupMenu.js","components/HomeCarousel.js","utils/getNoun.js","components/Card.js","components/Recommendations.js","components/Loader.js","store/modules/products/actions.js","components/Home.js","components/Form.js","components/Login.js","components/OAuthCallback.js","components/Register.js","components/Confirm.js","components/CategoriesSideBar.js","components/Category.js","components/Search.js","components/Product/ProductCarouselIndicators.js","components/Product/ProductCarousel.js","components/Product/Product.js","components/Checkout.js","store/modules/orders/actions.js","index.js","components/Application.js"],"names":["Boolean","window","location","hostname","match","initialState","token","localStorage","getItem","login","error","processing","registration","errors","complete","confirmation","oauth","oauthCallback","me","fetching","profile","items","isLoading","isWebsocketConnected","messages","draft","recommendations","byCategory","byQuery","byId","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","combineReducers","auth","state","action","type","setItem","categories","chat","concat","message","orders","data","order","products","category","query","id","product","applyMiddleware","thunkMiddleware","ModalBtnBack","handleToggleModal","Button","color","className","onClick","aria-label","src","alt","Modal","title","content","isBackBtn","isCloseBtn","isOpen","rest","toggle","ModalHeader","ModalBtnClose","ChatMessage","income","outcome","date","from","cx","d","Date","getHours","toString","padStart","getMinutes","formatDate","ChatInner","sendMessage","useState","msg","setMsg","map","key","user","text","Form","onSubmit","e","preventDefault","Input","value","onChange","target","axios","create","baseURL","validateStatus","status","fetchMessages","dispatch","getState","client","get","headers","Authorization","then","response","catch","fetchMe","socket","connect","bindActionCreators","props","isCollapsed","isFixed","setIsOpen","_sendMessage","emit","now","useEffect","options","transportOptions","polling","extraHeaders","io","on","Collapse","ModalContextMenu","item","to","useModal","ModalAsItem","context","isChat","passedModalData","useContext","modalComponent","OpeningModalContext","React","createContext","ModalProvider","Provider","withRouter","history","setQuery","Fragment","inline","FormGroup","style","marginBottom","name","placeholder","event","length","push","subcategories","subcategory","slug","fetchCategories","mapDispatchToProps","values","queryString","parse","search","isOpenMenu","setIsOpenMenu","pathname","Navbar","light","expand","Row","Col","lg","NavbarToggler","navbar","Nav","NavItem","outline","removeItem","href","Footer","ListGroupMenuDropdown","dropdownTitle","dropdownItems","useHistory","setToggleState","Dropdown","DropdownToggle","caret","tag","DropdownMenu","DropdownItem","url","ListGroupMenu","ListGroup","ListGroupItem","originalTitle","altText","captionTitle","captionBtnText","captionBtnIconSrc","HomeCarousel","Component","constructor","super","this","activeIndex","next","bind","previous","goToIndex","onExiting","onExited","animating","nextIndex","setState","newIndex","render","slides","reduce","result","s","find","CarouselItem","role","Carousel","CarouselIndicators","onClickHandler","CarouselControl","direction","directionText","getNounReviews","number","n","Math","abs","CardComponent","cardTitle","cardImgSrc","rating","reviews","cardPrice","discount","Card","Link","CardImg","width","CardBody","CardTitle","Array","fill","el","i","CardText","formatter","Intl","NumberFormat","currency","Recommendations","CardDeck","images","format","price","Loader","fetchProductById","fetchRecommendations","oauthAction","provider","changeState","getOAuthLink","setValue","fields","field","htmlFor","label","required","disabled","submitButton","loginAction","email","password","post","providerMap","vkontakte","fb","github","OAuthCallback","params","URLSearchParams","componentDidMount","oauthCallbackAction","code","registerAction","displayName","validated","confirmAction","verificationToken","CategoriesSideBar","categoryId","subcategoryId","selectedCategoryId","selectCategoryId","fetchProductsByCategory","selectedSubcategory","setSelectedSubcategory","fetchProductsByQuery","mapToCssModules","cssModule","split","c","join","listClasses","indicators","idx","indicatorClasses","active","Object","ProductCarousel","activeTab","setActiveTab","tab","description","tabs","NavLink","classnames","TabContent","TabPane","tabId","sm","details","detail","review","author","checkout","replace","phone","setPhone","address","setAddress","keys","Alert","Label","for","size","ReactDOM","store","children","exact","path","component","Home","Login","Register","Confirm","Category","Search","Product","Checkout","document","getElementById","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.3eadeb00.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const LoginRequest = 'LoginRequest';\nexport const LoginFailure = 'LoginFailure';\nexport const LoginSuccess = 'LoginSuccess';\n\nexport const RegisterRequest = 'RegisterRequest';\nexport const RegisterFailure = 'RegisterFailure';\nexport const RegisterSuccess = 'RegisterSuccess';\n\nexport const ConfirmRequest = 'ConfirmRequest';\nexport const ConfirmFailure = 'ConfirmFailure';\nexport const ConfirmSuccess = 'ConfirmSuccess';\n\nexport const OAuthRequest = 'OAuthRequest';\nexport const OAuthFailure = 'OAuthFailure';\n\nexport const OAuthCallbackRequest = 'OAuthCallbackRequest';\nexport const OAuthCallbackFailure = 'OAuthCallbackFailure';\nexport const OAuthCallbackSuccess = 'OAuthCallbackSuccess';\n\nexport const FetchMeRequest = 'FetchMeRequest';\nexport const FetchMeSuccess = 'FetchMeSuccess';\nexport const FetchMeFailure = 'FetchMeFailure';\n","import {\n  LoginRequest, LoginSuccess, LoginFailure,\n  RegisterRequest, RegisterSuccess, RegisterFailure,\n  ConfirmRequest, ConfirmSuccess, ConfirmFailure,\n  OAuthRequest, OAuthFailure,\n  OAuthCallbackRequest, OAuthCallbackSuccess, OAuthCallbackFailure, FetchMeRequest, FetchMeSuccess,\n} from './constants';\n\nconst token = localStorage.getItem('token') || null;\n\nconst initialState = {\n  token,\n  login: {\n    error: null,\n    processing: false,\n  },\n  registration: {\n    errors: null,\n    processing: false,\n    complete: false,\n  },\n  confirmation: {\n    error: null,\n    processing: false,\n  },\n  oauth: {\n    error: null,\n    processing: false,\n  },\n  oauthCallback: {\n    error: null,\n    processing: false,\n  },\n  me: {\n    fetching: false,\n    profile: null,\n  }\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case LoginRequest:\n      return {\n        ...state,\n        login: {...initialState.login, processing: true}\n      };\n    case LoginSuccess:\n      localStorage.setItem('token', action.token);\n      return {\n        ...state,\n        login: initialState.login,\n        token: action.token\n      };\n    case LoginFailure:\n      return {\n        ...state,\n        login: {...initialState.login, error: action.error, processing: false}\n      };\n    case RegisterRequest:\n      return {\n        ...state,\n        registration: {...initialState.registration, processing: true}\n      };\n    case RegisterSuccess:\n      return {\n        ...state,\n        registration: {...initialState.registration, processing: false, complete: true,}\n      };\n    case RegisterFailure:\n      return {\n        ...state,\n        registration: {...initialState.registration, errors: action.errors, processing: false}\n      };\n    case ConfirmRequest:\n      return {\n        ...state,\n        confirmation: {...initialState.confirmation, processing: true}\n      };\n    case ConfirmSuccess:\n      localStorage.setItem('token', action.token);\n      return {...state, confirmation: initialState.confirmation, token: action.token};\n    case ConfirmFailure:\n      return {\n        ...state,\n        confirmation: {...initialState.confirmation, error: action.error, processing: false}\n      };\n    case OAuthRequest:\n      return {\n        ...state,\n        oauth: {...initialState.oauth, processing: true}\n      };\n    case OAuthFailure:\n      return {\n        ...state, oauth: {...initialState.oauth, error: action.error, processing: false}\n      };\n    case OAuthCallbackRequest:\n      return {\n        ...state,\n        oauthCallback: {...initialState.oauthCallback, processing: true}\n      };\n    case OAuthCallbackFailure:\n      return {\n        ...state,\n        oauthCallback: {...initialState.oauthCallback, error: action.error, processing: false}\n      };\n    case OAuthCallbackSuccess:\n      localStorage.setItem('token', action.token);\n      return {...state, oauthCallback: initialState.oauthCallback, token: action.token};\n    case FetchMeRequest:\n      return {...state, me: { ...initialState.me, fetching: true }};\n    case FetchMeSuccess:\n      return {...state, me: { ...initialState.me, profile: action.profile }};\n    default:\n      return state;\n  }\n}\n","export const FetchCategoriesRequest = 'FetchCategoriesRequest';\nexport const FetchCategoriesSuccess = 'FetchCategoriesSuccess';\nexport const FetchCategoriesFailure = 'FetchCategoriesFailure';\n","import {\n  FetchCategoriesRequest,\n  FetchCategoriesSuccess\n} from './constants';\n\nconst initialState = {\n  items: [],\n  isLoading: false,\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FetchCategoriesRequest:\n      return {\n        isLoading: true,\n        items: [],\n      };\n    case FetchCategoriesSuccess:\n      return {\n        isLoading: false,\n        items: action.categories,\n      };\n    default:\n      return state;\n  }\n}\n","export const WebsocketConnected = 'WebsocketConnected';\nexport const WebsocketDisconnected = 'WebsocketDisconnected';\nexport const Message = 'Message';\n\nexport const FetchMessagesRequest = 'FetchMessagesRequest';\nexport const FetchMessagesSuccess = 'FetchMessagesSuccess';\nexport const FetchMessagesFailure = 'FetchMessagesFailure';\n","import {\n  FetchMessagesSuccess,\n  WebsocketConnected, WebsocketDisconnected,\n  Message,\n} from './constants';\n\nconst initialState = {\n  isWebsocketConnected: false,\n  messages: [],\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FetchMessagesSuccess:\n      return {\n        ...state,\n        messages: action.messages.concat(state.messages),\n      };\n    case WebsocketConnected:\n      return { ...state, isWebsocketConnected: true };\n    case WebsocketDisconnected:\n      return { ...state, isWebsocketConnected: false };\n    case Message:\n      return {\n        ...state,\n        messages: state.messages.concat(action.message),\n      };\n    default:\n      return state;\n  }\n}\n","export const CheckoutRequest = 'CheckoutRequest';\nexport const CheckoutSuccess = 'CheckoutSuccess';\nexport const CheckoutFailure = 'CheckoutFailure';\n","import {CheckoutRequest, CheckoutSuccess, CheckoutFailure} from \"./constants\";\n\nconst initialState = {\n  draft: {\n    fetching: false,\n    errors: null,\n  },\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case CheckoutRequest:\n      return {\n        ...state,\n        draft: {\n          fetching: true,\n          error: null,\n          ...action.data,\n        }\n      };\n    case CheckoutSuccess:\n      return {\n        ...state,\n        draft: {\n          fetching: false,\n          error: null,\n        },\n        [action.order]: action.data,\n      };\n    case CheckoutFailure:\n      return {\n        ...state,\n        draft: {\n          ...state.draft,\n          fetching: false,\n          errors: action.errors,\n        }\n      };\n    default:\n      return state;\n  }\n}\n","export const FetchRecommendationsRequest = 'FetchRecommendationsRequest';\nexport const FetchRecommendationsSuccess = 'FetchRecommendationsSuccess';\nexport const FetchRecommendationsFailure = 'FetchRecommendationsFailure';\n\nexport const FetchProductsByCategoryRequest = 'FetchProductsByCategoryRequest';\nexport const FetchProductsByCategorySuccess = 'FetchProductsByCategorySuccess';\nexport const FetchProductsByCategoryFailure = 'FetchProductsByCategoryFailure';\n\nexport const FetchProductsByQueryRequest = 'FetchProductsByQueryRequest';\nexport const FetchProductsByQuerySuccess = 'FetchProductsByQuerySuccess';\nexport const FetchProductsByQueryFailure = 'FetchProductsByQueryFailure';\n\nexport const FetchProductByIdRequest = 'FetchProductByIdRequest';\nexport const FetchProductByIdSuccess = 'FetchProductByIdSuccess';\nexport const FetchProductByIdFailure = 'FetchProductByIdFailure';\n","import {\n  FetchRecommendationsSuccess,\n  FetchProductsByCategorySuccess,\n  FetchProductsByQueryRequest,\n  FetchProductsByQuerySuccess,\n  FetchProductByIdRequest,\n  FetchProductByIdSuccess,\n} from './constants';\n\nconst initialState = {\n  recommendations: [],\n  byCategory: {},\n  byQuery: {},\n  byId: {}\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case FetchRecommendationsSuccess:\n      return { ...state, recommendations: action.recommendations, };\n    case FetchProductsByCategorySuccess:\n      return {\n        ...state,\n        byCategory: {\n          ...state.byCategory,\n          [action.category]: action.products,\n        }\n      };\n    case FetchProductsByQueryRequest:\n      return {\n        ...state,\n        byQuery: {\n          ...state.byQuery,\n          [action.query]: {\n            fetching: true,\n            products: []\n          }\n        }\n      };\n    case FetchProductsByQuerySuccess:\n      return {\n        ...state,\n        byQuery: {\n          ...state.byQuery,\n          [action.query]: {\n            fetching: false,\n            products: action.products,\n          }\n        }\n      };\n    case FetchProductByIdRequest:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.id]: {\n            fetching: true,\n            product: null\n          }\n        }\n      };\n    case FetchProductByIdSuccess:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [action.id]: {\n            fetching: false,\n            product: action.product\n          }\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport authReducer from './modules/auth/reducer';\nimport categoriesReducer from './modules/categories/reducer';\nimport chatReducer from './modules/chat/reducer';\nimport ordersReducer from './modules/orders/reducer';\nimport productsReducer from './modules/products/reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(\n  combineReducers({\n    auth: authReducer,\n    categories: categoriesReducer,\n    chat: chatReducer,\n    orders: ordersReducer,\n    products: productsReducer,\n  }),\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Button} from 'reactstrap';\n\nconst ModalBtnBack = ({handleToggleModal}) => (\n  <Button\n    color=\"link\"\n    className=\"arrow-back px-2 py-2\"\n    onClick={handleToggleModal}\n    aria-label=\"back\"\n  >\n    <img src=\"/assets/icons/icon-arrow.svg\" alt=\"back\"/>\n  </Button>\n);\n\nModalBtnBack.propTypes = {\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default ModalBtnBack;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Button} from 'reactstrap';\n\nconst ModalBtnBack = ({handleToggleModal}) => (\n  <Button\n    color=\"link\"\n    className=\"btn-close float-none px-2 py-2\"\n    onClick={handleToggleModal}\n    aria-label=\"close\"\n  >\n    <img src=\"/assets/icons/icon-close.svg\" alt=\"close\"/>\n  </Button>\n);\n\nModalBtnBack.propTypes = {\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default ModalBtnBack;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal as ReactstrapModal, ModalHeader} from 'reactstrap';\nimport ModalBtnBack from './ModalBtnBack';\nimport ModalBtnClose from './ModalBtnClose';\n\nconst Modal = ({title, content, isBackBtn, isCloseBtn, isOpen, handleToggleModal, ...rest}) => (\n  <ReactstrapModal\n    title={title}\n    isOpen={isOpen}\n    toggle={handleToggleModal}\n    content={content}\n    {...rest}\n  >\n    <ModalHeader>\n      {title}\n      {isBackBtn && (<ModalBtnBack handleToggleModal={handleToggleModal} />)}\n      {isCloseBtn && (<ModalBtnClose handleToggleModal={handleToggleModal} />)}\n    </ModalHeader>\n    {content}\n  </ReactstrapModal>\n);\n\nModal.propTypes = {\n  title: PropTypes.string,\n  isBackBtn: PropTypes.bool,\n  isCloseBtn: PropTypes.bool,\n  content: PropTypes.element.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  handleToggleModal: PropTypes.func.isRequired\n};\n\nexport default Modal;\n","import React from 'react';\n// import PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nconst ChatMessage = ({income, outcome, date, from, message}) => (\n  <div className={cx(\"chat__message\", {'-income': income, '-outcome': outcome})}>\n    <div className=\"chat__message--date\">{from} @ {formatDate(date)}</div>\n    <div className=\"chat__message--inner\">\n      {message}\n    </div>\n  </div>\n);\n\nfunction formatDate(date) {\n  const d = new Date(date);\n  return `${d.getHours().toString().padStart(2, '0')}:${d.getMinutes().toString().padStart(2, '0')}`;\n}\n\n\nChatMessage.propTypes = {\n  // message: PropTypes.string.isRequired\n};\n\nexport default ChatMessage;\n","import React, {useEffect, useState} from 'react';\nimport {Button, Form, Input} from 'reactstrap';\nimport ChatMessage from './ChatMessage';\n// import Loader from '../Loader';\n// import {fetchMessages} from \"../../store/modules/chat/actions\";\n// import {connect} from \"react-redux\";\n\nconst ChatInner = ({isWebsocketConnected, messages, sendMessage}) => {\n  // useEffect(() => {\n  //   fetchMessages();\n  // }, []);\n  //\n  // if (!messages.length) {\n  //   return <Loader />;\n  // }\n  \n  const [msg, setMsg] = useState('');\n  \n  function onSubmit(e) {\n    e.preventDefault();\n    if (isWebsocketConnected) {\n      sendMessage(msg);\n      setMsg('');\n    }\n  }\n\n  return (\n    <div className=\"chat__inner\">\n      <div className=\"chat__body\">\n        {messages.map(message => {\n          return (\n            <ChatMessage\n              key={message.id}\n              income\n              date={message.date}\n              from={message.user}\n              message={message.text} />\n          );\n        })}\n      </div>\n      <div className=\"chat__footer\">\n        <Form onSubmit={onSubmit} className=\"form-inline form-inline-flex\">\n          <Input value={msg} onChange={e => setMsg(e.target.value)} className=\"form-control mr-2\" type=\"text\" />\n          <Button type=\"submit\" color=\"link\" className=\"btn btn-send\">\n            <img src=\"/assets/icons/icon-send.svg\" alt=\"\" />\n          </Button>\n        </Form>\n      </div>\n    </div>\n  )\n};\n\n// function mapStateToProps(state) {\n//   return { messages: state.messages };\n// }\n//\n// const mapDispatchToProps = { fetchMessages };\n//\n// export default connect(mapStateToProps, mapDispatchToProps)(ChatInner);\n\nexport default ChatInner;\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : '',\n  validateStatus: status => {\n    // if (status === 401) {\n    //   localStorage.removeItem('token');\n    //   window.location.reload(true);\n    //   return;\n    // }\n    return status <= 399;\n  }\n});\n","import client from '../../../network';\nimport {Message} from './constants';\n\nimport {\n  FetchMessagesRequest, FetchMessagesSuccess, FetchMessagesFailure,\n} from './constants';\n\nexport function fetchMessages() {\n  return (dispatch, getState) => {\n    dispatch({type: FetchMessagesRequest});\n    \n    const state = getState();\n    const token = state.auth.token;\n    \n    client.get('/api/messages', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      dispatch({type: FetchMessagesSuccess, messages: response.data.messages});\n    }).catch(error => {\n      dispatch({type: FetchMessagesFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function sendMessage(message) {\n  return { type: Message, message };\n}\n","import client from '../../../network';\n\nimport {\n  LoginRequest, LoginSuccess, LoginFailure,\n  RegisterRequest, RegisterSuccess, RegisterFailure,\n  ConfirmRequest, ConfirmSuccess, ConfirmFailure,\n  OAuthRequest, OAuthFailure,\n  OAuthCallbackRequest, OAuthCallbackSuccess, OAuthCallbackFailure,\n  FetchMeRequest, FetchMeSuccess, FetchMeFailure,\n} from './constants';\n\nexport function login({email, password}) {\n  return (dispatch, getState) => {\n    dispatch({type: LoginRequest});\n    \n    client.post('/api/login', {\n      email, password\n    }).then(response => {\n      dispatch({type: LoginSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: LoginFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function register({email, displayName, password}) {\n  return (dispatch, getState) => {\n    dispatch({type: RegisterRequest});\n    \n    client.post('/api/register', {\n      email, displayName, password\n    }).then(response => {\n      dispatch({type: RegisterSuccess});\n    }).catch(error => {\n      dispatch({type: RegisterFailure, errors: error.response.data.errors});\n    });\n  }\n}\n\nexport function confirm({verificationToken}) {\n  return (dispatch, getState) => {\n    dispatch({type: ConfirmRequest});\n    \n    client.post('/api/confirm', {\n      verificationToken\n    }).then(response => {\n      dispatch({type: ConfirmSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: ConfirmFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function oauth({provider}) {\n  return (dispatch, getState) => {\n    dispatch({type: OAuthRequest});\n    \n    client.get(`/api/oauth/${provider}`)\n      .then(response => {\n        window.location.href = response.data.location;\n      })\n      .catch(error => {\n        dispatch({type: OAuthFailure, error: error.response.data.error});\n      });\n  }\n}\n\nexport function oauthCallback({provider, code}) {\n  return (dispatch, getState) => {\n    dispatch({type: OAuthCallbackRequest});\n    \n    client.post('/api/oauth_callback', {\n      provider\n    }, {\n      params: { code }\n    }).then(response => {\n      dispatch({type: OAuthCallbackSuccess, token: response.data.token});\n    }).catch(error => {\n      dispatch({type: OAuthCallbackFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchMe() {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.auth.me.fetching || !!state.auth.me.profile) return;\n    \n    dispatch({type: FetchMeRequest});\n    \n    const token = state.auth.token;\n    \n    client.get('/api/me', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      dispatch({type: FetchMeSuccess, profile: response.data});\n    }).catch(error => {\n      dispatch({type: FetchMeFailure, error: error.response.data.error});\n    });\n  }\n}\n","import React, {useState, useEffect} from 'react';\nimport get from 'lodash/get';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Collapse} from 'reactstrap';\nimport cx from 'classnames';\nimport ChatInner from './ChatInner';\nimport io from 'socket.io-client';\nimport {bindActionCreators} from 'redux';\nimport {WebsocketConnected, WebsocketDisconnected, Message} from '../../store/modules/chat/constants';\nimport {fetchMessages, sendMessage} from '../../store/modules/chat/actions';\nimport {fetchMe} from '../../store/modules/auth/actions';\n\nlet socket = null;\n\nfunction Chat(props) {\n  const {\n    token, isWebsocketConnected, messages, me, isCollapsed, isFixed,\n    dispatch, fetchMessages, sendMessage, fetchMe,\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  \n  useEffect(() => {\n    if (!token) return;\n\n    fetchMe();\n    fetchMessages();\n  }, [token]);\n\n  useEffect(() => {\n    const options = token\n      ? {\n        transportOptions: {\n          polling: {\n            extraHeaders: {\n              Authorization: `Bearer ${token}`\n            }\n          }\n        }\n      }\n      : {};\n\n    socket = io('', options);\n\n    socket.on('connect', () => {\n      dispatch({type: WebsocketConnected});\n    });\n\n    socket.on('disconnect', () => {\n      dispatch({type: WebsocketDisconnected});\n    });\n\n    socket.on('message', message => {\n      dispatch({type: Message, message});\n    });\n  }, [token]);\n\n  function handleToggleCollapse() {\n    setIsOpen(!isOpen);\n  }\n\n  function _sendMessage(msg) {\n    socket.emit('message', { text: msg, date: Date.now() });\n    sendMessage({\n      text: msg,\n      user: get(me, 'profile.displayName', 'пользователь'),\n      date: Date.now(),\n      id: Date.now(),\n    });\n  }\n\n  return (\n    <div className={cx(\"chat\", {\"fixed\": isFixed})}>\n      {isCollapsed && (\n        <div className=\"chat__header\" onClick={handleToggleCollapse}>\n          Есть вопрос?\n          <img src=\"/assets/icons/icon-chat-white.svg\" alt=\"icon-chat\" />\n        </div>\n      )}\n      {isCollapsed\n        ? <Collapse isOpen={isOpen}>\n          <ChatInner\n            isWebsocketConnected={isWebsocketConnected}\n            sendMessage={_sendMessage}\n            messages={messages} />\n        </Collapse>\n        : <ChatInner\n          isWebsocketConnected={isWebsocketConnected}\n          sendMessage={_sendMessage}\n          messages={messages} />\n      }\n    </div>\n  );\n}\n\nChat.propTypes = {\n  isCollapsed: PropTypes.bool,\n  isFixed: PropTypes.bool\n};\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    me: state.auth.me,\n    isWebsocketConnected: state.chat.isWebsocketConnected,\n    messages: state.chat.messages,\n  };\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch,\n    ...bindActionCreators({fetchMessages, sendMessage, fetchMe}, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React from \"react\";\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ModalContextMenu = ({data}) => (\n  <div className=\"modal-menu\">\n    {data && data.map((item, key) => (\n      <Link to={item.src} key={key} className=\"modal-menu__item\">{item.title}</Link>\n    ))}\n  </div>\n);\n\nModalContextMenu.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default ModalContextMenu;","import { useState } from 'react';\n\nconst useModal = () => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  function handleToggleModal() {\n    setIsOpen(!isOpen);\n  }\n\n  return {\n    isOpen,\n    handleToggleModal,\n  }\n};\n\nexport default useModal;","import React, {useContext} from \"react\";\nimport PropTypes from 'prop-types';\nimport useModal from \"../../store/modules/helpers/useModal\";\nimport Modal from '../Modal/Modal';\nimport {Button} from 'reactstrap';\n\nconst ModalAsItem = ({context, isChat}) => {\n  const passedModalData = useContext(context);\n  const {isOpen, handleToggleModal} = useModal();\n  return (\n    <>\n      <Modal\n        title={passedModalData.title}\n        content={passedModalData.modalComponent}\n        isBackBtn\n        isCloseBtn\n        isOpen={isOpen}\n        handleToggleModal={handleToggleModal}\n      />\n      <Button color=\"link\" className=\"modal-menu__item is-submenu w-100\"\n              onClick={handleToggleModal}\n      >\n        {passedModalData.title} {isChat && <img src=\"assets/icons/icon-chat.svg\" alt=\"\"/>}\n      </Button>\n    </>\n  )\n};\n\nModalAsItem.propTypes = {\n  context: PropTypes.object.isRequired,\n  isChat: PropTypes.bool\n};\n\nexport default ModalAsItem;","import React, {useState} from 'react';\nimport {withRouter, Link} from 'react-router-dom';\n\nimport Chat from '../Chat/Chat';\nimport ModalContextMenu from '../ModalContextMenu';\nimport ModalAsItem from './ModalAsItem';\nimport {Form, Input, FormGroup, Button} from 'reactstrap';\n\n// Create a Context\nconst OpeningModalContext = React.createContext();\n\n// Create modal provider\nconst ModalProvider = ({item}) => (\n  <OpeningModalContext.Provider value={item}>\n    <ModalAsItem context={OpeningModalContext} isChat={item.isChat} />\n  </OpeningModalContext.Provider>\n);\n\nconst ModalMenu = ({token, categories, history}) => {\n  const [query, setQuery] = useState('');\n  \n  function onSearch(event) {\n    event.preventDefault();\n    if (!query.length) return;\n    history.push(`/search?query=${query}`);\n  }\n  \n  return (\n    <div className=\"modal-menu\">\n      {!token &&\n      <React.Fragment>\n        <Link to=\"/login\" className=\"modal-menu__item\">Вход</Link>\n        <Link to=\"/register\" className=\"modal-menu__item\">Регистрация</Link>\n      </React.Fragment>\n      }\n      {!!token &&\n      <ModalProvider item={{\n        title: \"Есть вопрос?\",\n        modalComponent: <Chat />,\n        isChat: true,\n      }} />\n      }\n      <div className=\"modal-menu__item\">\n        <Form inline>\n          <FormGroup style={{marginBottom: 0}}>\n            <Input\n              type=\"text\"\n              name=\"query\"\n              value={query}\n              onChange={e => setQuery(e.target.value)}\n              placeholder=\"Поиск\" />\n          </FormGroup>\n          <Button onClick={onSearch}>Найти</Button>\n        </Form>\n      </div>\n      <h3 className=\"h6 mb-0 modal-menu__title\">Категории</h3>\n      {categories.map(category => {\n        const item = {\n          title: category.title,\n          modalComponent: <ModalContextMenu data={category.subcategories.map(subcategory => ({\n            title: subcategory.title,\n            src: `/category/${subcategory.slug}`\n          }))} />,\n          isChat: false\n        };\n      \n        return (\n          <ModalProvider key={category.id} item={item} />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default withRouter(ModalMenu);\n","import {\n  FetchCategoriesRequest, FetchCategoriesSuccess, FetchCategoriesFailure\n} from './constants';\nimport client from '../../../network';\n\nexport function fetchCategories() {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.categories.isLoading) return;\n    if (state.categories.items.length !== 0) return;\n    \n    dispatch({type: FetchCategoriesRequest});\n    \n    client.get('/api/categories')\n      .then(response => {\n        dispatch({type: FetchCategoriesSuccess, categories: response.data.categories});\n      }).catch(error => {\n        dispatch({type: FetchCategoriesFailure, error: error.response.data.error});\n      });\n  }\n}\n","import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Modal from './Modal/Modal';\nimport ModalMenu from './ModalMenu/ModalMenu';\nimport { withRouter } from 'react-router';\nimport queryString from 'query-string';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {\n  Row,\n  Col,\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  Nav,\n  NavItem,\n  Form,\n  Input,\n  Button\n} from 'reactstrap';\nimport useModal from '../store/modules/helpers/useModal';\n\nfunction Header({token, categories, fetchCategories, history, location}) {\n  const values = queryString.parse(location.search);\n  const {isOpen, handleToggleModal} = useModal();\n  const [isOpenMenu, setIsOpenMenu] = useState(false);\n  const [query, setQuery] = useState(values.query || '');\n  \n  useEffect(() => {\n    if (query !== values.query) {\n      setQuery(values.query || '');\n    }\n\n    if (isOpen) handleToggleModal();\n  }, [location.search]);\n  \n  useEffect(() => {\n    if (isOpen) handleToggleModal();\n  }, [location.pathname]);\n  \n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  function handleToggleHeaderMenu() {\n    setIsOpenMenu(!isOpenMenu);\n  }\n  \n  function search(event) {\n    event.preventDefault();\n    if (query === '') return;\n    history.push(`/search?query=${query}`);\n  }\n  \n  function logout(e) {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    window.location.href = \"/\";\n  }\n\n  return (\n    <header>\n      <Navbar light expand=\"lg\">\n        <div className=\"container-xl justify-content-start\">\n          <Row className=\"flex-grow-1\">\n            <Col lg=\"3\">\n              <NavbarToggler onClick={handleToggleHeaderMenu} className=\"d-none d-md-inline-flex d-lg-none\">\n                <img src=\"/assets/icons/icon-menu.svg\" alt=\"menu icon\"/>\n              </NavbarToggler>\n              <Modal\n                title=\"Меню\"\n                content={<ModalMenu token={token} categories={categories} />}\n                id=\"xsMenuModal\"\n                isCloseBtn\n                isOpen={isOpen}\n                handleToggleModal={handleToggleModal}\n              />\n              <NavbarToggler onClick={handleToggleModal} className=\"d-inline-flex d-md-none\">\n                <img src=\"/assets/icons/icon-menu.svg\" alt=\"menu icon\"/>\n              </NavbarToggler>\n              <Link to=\"/\" className=\"navbar-brand\"><strong>AnyShop</strong></Link>\n            </Col>\n          \n            <Col lg=\"9\">\n              <Collapse isOpen={isOpenMenu} navbar className=\"d-flex justify-content-between\">\n                <Nav navbar className=\"w-75\">\n                  <NavItem className=\"flex-grow-1\">\n                    <Form onSubmit={search} inline>\n                      <Input\n                        className=\"form-control flex-grow-1 mr-1\"\n                        type=\"text\"\n                        placeholder=\"название товара или бренд\"\n                        aria-label=\"Search\"\n                        value={query}\n                        onChange={event => setQuery(event.target.value)}\n                      />\n                      <Button type=\"submit\" color=\"primary\" outline>Поиск</Button>\n                    </Form>\n                  </NavItem>\n                </Nav>\n                {!token &&\n                <div>\n                  <Link to=\"/login\" className=\"text-muted\">Вход</Link>\n                  {' | '}\n                  <Link to=\"/register\" className=\"text-muted\">Регистрация</Link>\n                </div>\n                }\n                {!!token &&\n                  <a onClick={logout} href=\"#\" className=\"text-muted\">Выйти</a>\n                }\n              </Collapse>\n            </Col>\n          </Row>\n        </div>\n      </Navbar>\n    </header>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.auth.token,\n    categories: state.categories.items,\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories };\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"container-xl\">\n        <div className=\"footer-inner\">\n          <div className=\"footer-menu\">\n            <Link to=\"#\" className=\"text-muted\">Правила использования</Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\">Конфиденциальность</Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\">Cookies</Link>\n            <span className=\"d-none d-md-inline-flex footer-menu-separator\">|</span>\n            <Link to=\"#\" className=\"text-muted\">Гарантия</Link>\n          </div>\n          <div>\n            © 2020, learn.javascript.ru\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { useHistory } from \"react-router-dom\";\n\nconst ListGroupMenuDropdown = ({dropdownTitle, dropdownItems}) => {\n  const history = useHistory();\n  const [isOpen, setToggleState] = useState(false);\n\n  function handleToggleDropdown() {\n      setToggleState(!isOpen);\n  }\n  \n  function onItemClick(url) {\n    return () => {\n      history.push(url);\n    }\n  }\n\n  return (\n      <Dropdown isOpen={isOpen} toggle={handleToggleDropdown}>\n          <DropdownToggle caret tag=\"a\" className=\"nav-link\">\n              { dropdownTitle }\n          </DropdownToggle>\n          <DropdownMenu>\n              { dropdownItems.map((item, key) => (\n                <DropdownItem key={key} onClick={onItemClick(`/category/${item.slug}`)}>\n                  {item.title}\n                </DropdownItem>\n              )) }\n          </DropdownMenu>\n      </Dropdown>\n  )\n};\n\nListGroupMenuDropdown.propTypes = {\n    dropdownTitle: PropTypes.string,\n    dropdownItems: PropTypes.array\n};\n\nexport default ListGroupMenuDropdown;\n","import React from 'react';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\nimport ListGroupMenuDropdown from './Dropdown';\n\nconst ListGroupMenu = ({ categories }) => {\n    return (\n        <div className=\"d-none d-lg-block\">\n            <div className=\"backdrop\"></div>\n            <ListGroup className=\"sidebar\">\n                {categories.map(category => {\n                    return (\n                      <ListGroupItem key={category.id}>\n                          <ListGroupMenuDropdown dropdownTitle={category.title} dropdownItems={category.subcategories} />\n                      </ListGroupItem>\n                    );\n                })}\n            </ListGroup>\n        </div>\n    )\n};\n\nexport default ListGroupMenu;\n","import React, { Component } from 'react';\n\nimport {\n    Carousel,\n    CarouselItem,\n    CarouselControl,\n    CarouselIndicators\n} from 'reactstrap';\n\nimport { Link } from 'react-router-dom';\n\nconst items = [\n    {\n        id: '0',\n        originalTitle: 'Игрушки и развлечения',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: 'Игрушки',\n        captionTitle: 'Лучшие игрушки',\n        captionBtnText: 'Смотреть предложения',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    },\n    {\n        id: '1',\n        originalTitle: 'LCD телевизоры',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: 'Slide 2',\n        captionTitle: 'Лучшие LCD телевизоры',\n        captionBtnText: 'Смотреть предложения',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    },\n    {\n        id: '2',\n        originalTitle: 'Ноутбуки и аксессуары',\n        src: '/assets/images/default-slide-img.jpg',\n        altText: 'Slide 3',\n        captionTitle: 'Лучшие ноутбуки',\n        captionBtnText: 'Смотреть предложения',\n        captionBtnIconSrc: '/assets/icons/icon-angle-white.svg'\n    }\n];\n\nclass HomeCarousel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { activeIndex: 0 };\n        this.next = this.next.bind(this);\n        this.previous = this.previous.bind(this);\n        this.goToIndex = this.goToIndex.bind(this);\n        this.onExiting = this.onExiting.bind(this);\n        this.onExited = this.onExited.bind(this);\n    }\n\n    onExiting() {\n        this.animating = true;\n    }\n\n    onExited() {\n        this.animating = false;\n    }\n\n    next() {\n        if (this.animating) return;\n        const nextIndex = this.state.activeIndex === items.length - 1 ? 0 : this.state.activeIndex + 1;\n        this.setState({ activeIndex: nextIndex });\n    }\n\n    previous() {\n        if (this.animating) return;\n        const nextIndex = this.state.activeIndex === 0 ? items.length - 1 : this.state.activeIndex - 1;\n        this.setState({ activeIndex: nextIndex });\n    }\n\n    goToIndex(newIndex) {\n        if (this.animating) return;\n        this.setState({ activeIndex: newIndex });\n    }\n\n    render() {\n        const { activeIndex } = this.state;\n        const { categories } = this.props;\n        \n        const slides = items.map((item) => {\n            const subcategory = categories.reduce((result, category) => {\n                if (result) return result;\n                const s = category.subcategories.find(({title}) => title === item.originalTitle);\n                if (s) return s;\n                return result;\n            }, null);\n            \n            return (\n                <CarouselItem\n                    onExiting={this.onExiting}\n                    onExited={this.onExited}\n                    key={item.id}\n                >\n                    <img src={item.src} alt={item.altText} className=\"third-slide\" />\n                    <div className=\"container\">\n                        <div className=\"carousel-caption\">\n                            <h3 className=\"h1\">{ item.captionTitle }</h3>\n                            <div>\n                                <Link className=\"btn\" to={ `/category/${subcategory.slug}` } role=\"button\">\n                                    { item.captionBtnText }\n                                    <img src={ item.captionBtnIconSrc } className=\"ml-3\" alt=\"\" />\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </CarouselItem>\n            );\n        });\n\n        return (\n            <Carousel\n                activeIndex={activeIndex}\n                next={this.next}\n                previous={this.previous}\n                className=\"main-carousel\"\n                \n            >\n                <CarouselIndicators items={items} activeIndex={activeIndex} onClickHandler={this.goToIndex} />\n                {slides}\n                <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={this.previous} />\n                <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={this.next} />\n            </Carousel>\n        );\n    }\n}\n\nexport default HomeCarousel;\n","export function getNounReviews(number) {\n  let n = Math.abs(number);\n  n %= 100;\n  if (n >= 5 && n <= 20) {\n    return 'оценок';\n  }\n  n %= 10;\n  if (n === 1) {\n    return 'оценка';\n  }\n  if (n >= 2 && n <= 4) {\n    return 'оценки';\n  }\n  return 'оценок';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {Card, CardTitle, CardText, CardImg, CardBody} from 'reactstrap';\nimport cx from 'classnames';\nimport {getNounReviews} from '../utils/getNoun';\n\nconst CardComponent = ({url, cardTitle, cardImgSrc, rating, reviews, cardPrice, discount}) => (\n  <Card tag={Link} to={url}>\n    <div className=\"card-img-wrap\">\n      <CardImg width=\"100%\" className=\"card-img-top\" src={cardImgSrc} alt=\"Card image cap\"/>\n    </div>\n    <CardBody>\n      <CardTitle>{cardTitle}</CardTitle>\n      <div className=\"flex-grow\" />\n      <div className=\"rate\">\n        {new Array(5).fill('').map((el, i) => (\n          <i key={i} className={`icon-star${i < rating ? ' checked' : ''}`} />\n        ))}\n        <span className=\"rate-amount ml-2\">{reviews}</span>\n      </div>\n      <CardText className={cx(\"price-text\", {\"discount\": discount})}>\n        <strong>{cardPrice}</strong>\n        {discount && <small className=\"ml-2\">{discount}</small>}\n      </CardText>\n    </CardBody>\n  </Card>\n);\n\nCardComponent.propTypes = {\n  cardTitle: PropTypes.string,\n  cardImgSrc: PropTypes.string,\n  cardRate: PropTypes.bool,\n  cardRateAmount: PropTypes.string,\n  cardPrice: PropTypes.string,\n  cardOldPrice: PropTypes.string,\n  discount: PropTypes.bool\n};\n\nexport default CardComponent;\n","import React from 'react';\nimport { CardDeck } from 'reactstrap';\n\nimport CardExample from './Card';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Recommendations({ items }) {\n  return (\n    <React.Fragment>\n      <h2 className=\"section-title text-dark\">Лучшие рекомендации для вас</h2>\n      <CardDeck className=\"homepage-cards\">\n        {items.map(item => {\n          return (\n            <CardExample\n              key={item.id}\n              url={`/product/${item.id}`}\n              cardTitle={item.title}\n              cardImgSrc={item.images[0]}\n              rating={item.rating}\n              reviews={item.reviews.length}\n              cardPrice={formatter.format(item.price)}\n              discount={item.discount}\n            />\n          );\n        })}\n      </CardDeck>\n    </React.Fragment>\n  );\n}\n\nexport default Recommendations;\n","import React from 'react';\n\nexport default function Loader() {\n  return (\n    <div className=\"container container-loader\">\n      <div className=\"lds-default\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n","import {\n  FetchRecommendationsRequest, FetchRecommendationsSuccess, FetchRecommendationsFailure,\n  FetchProductsByCategoryRequest, FetchProductsByCategorySuccess, FetchProductsByCategoryFailure,\n  FetchProductsByQueryRequest, FetchProductsByQuerySuccess, FetchProductsByQueryFailure,\n  FetchProductByIdRequest, FetchProductByIdSuccess, FetchProductByIdFailure,\n} from './constants';\nimport client from '../../../network';\nimport get from 'lodash/get';\n\nexport function fetchRecommendations() {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    if (state.products.recommendations.length !== 0) return;\n    \n    dispatch({type: FetchRecommendationsRequest});\n    \n    client.get('/api/recommendations')\n      .then(response => {\n        dispatch({type: FetchRecommendationsSuccess, recommendations: response.data.recommendations});\n      }).catch(error => {\n      dispatch({type: FetchRecommendationsFailure, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductsByCategory(category) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (state.products.byCategory[category]) return;\n    \n    dispatch({type: FetchProductsByCategoryRequest, category});\n    \n    client.get('/api/products', { params: { subcategory: category } })\n      .then(response => {\n        dispatch({type: FetchProductsByCategorySuccess, category, products: response.data.products});\n      }).catch(error => {\n      dispatch({type: FetchProductsByCategoryFailure, category, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductsByQuery(query) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (get(state, `products.byQuery[${query}].fetching`) === false) return;\n    \n    dispatch({type: FetchProductsByQueryRequest, query});\n    \n    client.get('/api/products', { params: { query } })\n      .then(response => {\n        dispatch({type: FetchProductsByQuerySuccess, query, products: response.data.products});\n      }).catch(error => {\n      dispatch({type: FetchProductsByQueryFailure, query, error: error.response.data.error});\n    });\n  }\n}\n\nexport function fetchProductById(id) {\n  return (dispatch, getState) => {\n    const state = getState();\n    \n    if (get(state, `products.byId[${id}].fetching`) === false) return;\n    \n    dispatch({type: FetchProductByIdRequest, id});\n    \n    client.get(`/api/products/${id}`)\n      .then(response => {\n        dispatch({type: FetchProductByIdSuccess, id, product: response.data.product});\n      }).catch(error => {\n      dispatch({type: FetchProductByIdFailure, id, error: error.response.data.error});\n    });\n  }\n}\n","import React, { useEffect } from 'react';\nimport {connect} from 'react-redux';\n\nimport ListGroupMenu from './ListGroupMenu';\nimport HomeCarousel from './HomeCarousel';\nimport Recommendations from './Recommendations';\nimport Loader from './Loader';\n\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchRecommendations} from '../store/modules/products/actions';\n\nfunction Home({ categories, recommendations, fetchCategories, fetchRecommendations }) {\n  useEffect(() => {\n    fetchCategories();\n    fetchRecommendations();\n  }, []);\n  \n  if (!categories.length || !recommendations.length) {\n    return <Loader />;\n  }\n  \n  return (\n    <React.Fragment>\n      <div className=\"backdrop\"/>\n      <div className=\"container-xl\">\n        <div className=\"row flex-column-reverse flex-lg-row\">\n          <div className=\"col-lg-3\">\n            <ListGroupMenu categories={categories} />\n          </div>\n          <div className=\"col-lg-9\">\n            <HomeCarousel categories={categories} />\n          </div>\n        </div>\n      </div>\n      <div className=\"container-xl\">\n        <div className=\"row justify-content-end\">\n          <div className=\"col-lg-9\">\n            <Recommendations items={recommendations} />\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    categories: state.categories.items,\n    recommendations: state.products.recommendations,\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchRecommendations };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { oauth } from '../store/modules/auth/actions';\n\nfunction Form(props) {\n  const [state, changeState] = useState({});\n  \n  function getOAuthLink(provider) {\n    return () => props.oauthAction({provider});\n  }\n  \n  function setValue(event) {\n    changeState({\n      ...state,\n      [event.target.name]: event.target.value\n    });\n  }\n  \n  return (\n    <div className=\"container pt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <form onSubmit={(event) => props.onSubmit(event, state)}>\n            {!!props.error &&\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {props.error}\n            </div>\n            }\n            <div className=\"jumbotron jumbotron-light jumbotron-form\">\n              \n              {props.fields.map(field => {\n                return (\n                  <div className=\"form-group\" key={field.id}>\n                    <label htmlFor={field.id}>{field.label}</label>\n                    <input type={field.type} className=\"form-control\" id={field.id}\n                           placeholder={field.placeholder}\n                           name={field.name}\n                           value={state[field.name] || \"\"} onChange={setValue} required />\n                  </div>\n                );\n              })}\n  \n              <div className=\"form-group text-center\">\n                <button disabled={props.disabled} type=\"submit\" className=\"btn btn-primary btn-lg\">\n                  {props.submitButton}\n                </button>\n              </div>\n              \n              \n              <div className=\"form-footer mt-4 text-center\">\n                <props.Footer />\n              </div>\n            </div>\n          </form>\n          <div\n            className=\"h4 text-center font-weight-normal text-uppercase my-5 d-none d-lg-block\">или\n          </div>\n          <div className=\"socials mb-5\">\n            <a href=\"#\" className=\"btn btn-primary btn-social -github\" onClick={getOAuthLink('github')}>\n              <i className=\"fab fa-github\" />\n              Github\n            </a>\n            <a href=\"#\" className=\"btn btn-primary btn-social -vk\"  onClick={getOAuthLink('vkontakte')}>\n              <i className=\"fab fa-vk\" />\n              VK\n            </a>\n            <a href=\"#\" className=\"btn btn-primary btn-social -twitter\" onClick={getOAuthLink('yandex')}>\n              <i className=\"fab fa-yandex\" />\n              Yandex\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default connect(null, {\n  oauthAction: oauth\n})(Form);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport Form from './Form';\n\nimport { login } from '../store/modules/auth/actions';\n\nconst fields = [\n  {label: 'Email', type: 'email', id: 'email', name: 'email', placeholder: 'Email'},\n  {label: 'Пароль', type: 'password', id: 'password', name: 'password', placeholder: 'Пароль'},\n];\n\nfunction Login({token, login, loginAction}) {\n  if (token) return <Redirect to=\"/\" />;\n  \n  function onSubmit(event, fields) {\n    event.preventDefault();\n    if (login.processing) return;\n  \n    loginAction(fields);\n  }\n  \n  return (\n    <Form\n      disabled={login.processing}\n      title=\"Вход\"\n      error={login.error}\n      onSubmit={onSubmit}\n      fields={fields}\n      submitButton=\"Войти\"\n      Footer={() => (\n        <React.Fragment>\n          Нет аккаунта? <Link to=\"/register\">Регистрация</Link>\n        </React.Fragment>\n      )}\n    />\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { login: state.auth.login, token: state.auth.token };\n}\n\nconst mapDispatchToProps = { loginAction: login };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport { oauthCallback } from '../store/modules/auth/actions';\n\nconst providerMap = {\n  vkontakte: 'VK',\n  fb: 'Facebook',\n  github: 'Github',\n};\n\nclass OAuthCallback extends Component {\n  constructor(props) {\n    super(props);\n  \n    this.params = new URLSearchParams(props.location.search);\n    this.provider = props.match.params.provider;\n  }\n  \n  componentDidMount() {\n    if (this.params.get('error')) return;\n    this.props.oauthCallbackAction({code: this.params.get('code'), provider: this.provider});\n  }\n  \n  render() {\n    const { token, oauthCallback } = this.props;\n    \n    if (token) return <Redirect to=\"/\" />;\n    \n    return (\n      <main className=\"container\">\n        <div className=\"row login-form justify-content-center align-items-center\">\n          <div className=\"col col-md-6\">\n            <div className=\"text-center border border-light p-5\">\n              <p className=\"h4 mb-4\">Логин через {providerMap[this.provider]}</p>\n            \n              {oauthCallback.error || this.params.get('error')\n                ? <React.Fragment>\n                  <p className=\"text-danger\">При выполнени операции произошла ошибка.</p>\n                  <p className=\"text-danger\">{oauthCallback.error || \"\"}</p>\n                  <Link to=\"/\">Вход</Link>\n                </React.Fragment>\n                : <React.Fragment>\n                  <p>Пожалуйста, подождите.</p>\n                  <div className=\"spinner-border\" role=\"status\">\n                    <span className=\"sr-only\">Загрузка...</span>\n                  </div>\n                </React.Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { oauthCallback: state.auth.oauthCallback, token: state.auth.token };\n}\n\nconst mapDispatchToProps = { oauthCallbackAction: oauthCallback };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OAuthCallback);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Form from './Form';\nimport { register } from '../store/modules/auth/actions';\n\nconst fields = [\n  {label: 'Email', type: 'email', id: 'email', name: 'email', placeholder: 'Email'},\n  {label: 'Имя', type: 'text', id: 'displayName', name: 'displayName', placeholder: 'Имя'},\n  {label: 'Пароль', type: 'password', id: 'password', name: 'password', placeholder: 'Пароль'},\n];\n\nfunction Register({registration, registerAction}) {\n  if (registration.complete) {\n    return (\n      <div className=\"container pt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6\">\n          <div className=\"text-center border border-light p-5\">\n            <p className=\"h4 mb-4\">Поздравляем, вы зарегистрированы!</p>\n            <p>На указанную вами почту отправлено письмо.</p>\n            <p>Для завершения регистрации, пожалуйста, перейдите по ссылке из этого письма.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    );\n  }\n  \n  function onSubmit(event, fields) {\n    event.preventDefault();\n    if (registration.processing) return;\n  \n    registerAction(fields);\n  }\n  \n  return (\n    <Form\n      disabled={registration.processing}\n      title=\"Регистрация\"\n      validated={registration.errors}\n      errors={registration.errors}\n      onSubmit={onSubmit}\n      fields={fields}\n      submitButton=\"Создать аккаунт\"\n      Footer={() => (\n        <p>Уже есть аккаунт?&nbsp;\n          <Link to=\"/login\">Вход</Link>\n        </p>\n      )} />\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { registration: state.auth.registration };\n}\n\nconst mapDispatchToProps = { registerAction: register };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom';\nimport { confirm } from '../store/modules/auth/actions';\n\nfunction Confirm({token, confirmation, confirmAction, match}) {\n  useEffect(() => {\n    confirmAction({verificationToken: match.params.verificationToken});\n  }, []);\n  \n  if (token) return <Redirect to=\"/\" />;\n\n  return (\n    <main className=\"container\">\n      <div className=\"row login-form justify-content-center align-items-center\">\n        <div className=\"col col-md-6\">\n          <div className=\"text-center border border-light p-5\">\n            <p className=\"h4 mb-4\">Подтверждение почтового адреса</p>\n  \n            {confirmation.error\n              ? <React.Fragment>\n                <p className=\"text-danger\">При выполнени операции произошла ошибка.</p>\n                <p className=\"text-danger\">{confirmation.error}</p>\n                <Link to=\"/\">Вход</Link>\n              </React.Fragment>\n              : <React.Fragment>\n                <p>Почтовый адрес подтверждается, пожалуйста, подождите.</p>\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Загрузка...</span>\n                </div>\n              </React.Fragment>\n            }\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { confirmation: state.auth.confirmation, token: state.auth.token };\n}\n\nconst mapDispatchToProps = { confirmAction: confirm };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Confirm);\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Collapse} from \"reactstrap\";\n\nexport default function CategoriesSideBar({categoryId, subcategoryId, categories}) {\n  const [selectedCategoryId, selectCategoryId] = useState(categoryId);\n\n  return (\n    <div className=\"d-none d-lg-block col-lg-3\">\n      <div id=\"accordion\" className=\"aside-accordion-menu list-group\">\n        {categories.map((category) => {\n          return (\n            <div className=\"list-group-item\" key={category.id}>\n              <h5 className=\"mb-0\" onClick={() => selectCategoryId(category.id)}>\n                {category.title} <img src=\"/assets/icons/icon-angle.svg\" alt=\"angle-right\" />\n              </h5>\n              <Collapse isOpen={selectedCategoryId === category.id}>\n                <ul>\n                  {category.subcategories.map(subcategory => {\n                    return (\n                      <li key={subcategory.id}>\n                        <Link className={subcategoryId.id === subcategory.id ? 'active' : null} to={`/category/${subcategory.slug}`}>{subcategory.title}</Link>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </Collapse>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchProductsByCategory} from '../store/modules/products/actions';\nimport Loader from './Loader';\nimport {getNounReviews} from \"../utils/getNoun\";\nimport CategoriesSideBar from \"./CategoriesSideBar\";\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Category({ categories, products, fetchCategories, fetchProductsByCategory, match }) {\n  useEffect(() => {\n    fetchCategories();\n    fetchProductsByCategory(match.params.category);\n  }, [match.params.category]);\n  \n  const [selectedCategoryId, selectCategoryId] = useState(null);\n  const [selectedSubcategory, setSelectedSubcategory] = useState({});\n\n  useEffect(() => {\n    for (const category of categories) {\n      const subcategory = category.subcategories.find(({slug}) => slug === match.params.category);\n      if (!subcategory) continue;\n      selectCategoryId(category.id);\n      setSelectedSubcategory(subcategory);\n      \n      break;\n    }\n  }, [match.params.category, categories.length]);\n\n  if (!categories.length || !products.length) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row flex-column-reverse flex-lg-row\">\n        <CategoriesSideBar categories={categories} categoryId={selectedCategoryId} subcategoryId={selectedSubcategory} />\n        <div className=\"col-lg-9\">\n          <h3 className=\"h5 mt-4 mt-md-0 pt-1 mb-4\">{selectedSubcategory.title}</h3>\n          {products.map(product => {\n            return (\n              <div className=\"product-list-box\" key={product.id}>\n                <div className=\"box-inner-col description-col\">\n                  <Link to={`/product/${product.id}`} className=\"product-img\">\n                    <img src={product.images[0]} alt=\"img\" />\n                  </Link>\n                  <div className=\"product-desc\">\n                    <h4 className=\"col-title mb-2\">\n                      <Link to={`/product/${product.id}`}>{product.title}</Link>\n                    </h4>\n                    <div className=\"rate\">\n                      {new Array(5).fill('').map((el, i) => (\n                        <i className={`icon-star${i < product.rating ? ' checked' : ''}`} />\n                      ))}\n                    </div>\n                    <p className=\"rate-amount d-none d-md-block mt-1\">\n                      {` ${product.reviews.length} ${getNounReviews(product.reviews.length)}`}\n                    </p>\n                    <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                      <strong>{formatter.format(product.price)}</strong>\n                    </p>\n                  </div>\n                </div>\n                <div className=\"box-inner-col price-col\">\n                  <h4 className=\"col-title price-text mb-2\">{formatter.format(product.price)}</h4>\n                  <div>\n                    <Link to={`/checkout/${product.id}`} className=\"btn btn-primary btn-lg\">Купить</Link>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    categories: state.categories.items,\n    products: state.products.byCategory[props.match.params.category] || []\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchProductsByCategory };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {fetchCategories} from '../store/modules/categories/actions';\nimport {fetchProductsByQuery} from '../store/modules/products/actions';\nimport Loader from './Loader';\nimport queryString from 'query-string';\nimport {Link} from \"react-router-dom\";\nimport ListGroupMenu from \"./ListGroupMenu\";\nimport {getNounReviews} from \"../utils/getNoun\";\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Category({ categories, products, fetchCategories, fetchProductsByQuery, location }) {\n  const values = queryString.parse(location.search);\n  \n  useEffect(() => {\n    if (values.query.length === 0) return;\n    fetchProductsByQuery(values.query);\n    fetchCategories();\n  }, [values.query]);\n  \n  if (!categories.length || !products.products || products.fetching) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <ListGroupMenu categories={categories} />\n        {products.products.length !== 0 &&\n          <div className=\"d-md-inline-flex d-lg-none col-lg-8 col-xl-9\">\n            <h4 className=\"col-title mb-2 mt-2\">Результаты поиска</h4>\n          </div>\n        }\n        <div className=\"col-lg-8 col-xl-9\">\n          {products.products.length === 0 &&\n            <h4 className=\"col-title mb-2 mt-2\">{`По запросу ${values.query} ничего найти не удалось`}</h4>\n          }\n          {products.products.map(product => {\n            return (\n              <div className=\"product-list-box\" key={product.id}>\n                <div className=\"box-inner-col description-col\">\n                  <Link to={`/product/${product.id}`} className=\"product-img\">\n                    <img src={product.images[0]} alt=\"img\" />\n                  </Link>\n                  <div className=\"product-desc\">\n                    <h4 className=\"col-title mb-2\"><Link to={`/product/${product.id}`}>{product.title}</Link></h4>\n                    <div>\n                      {new Array(5).fill('').map((el, i) => (\n                        <span className={`fa fa-star${i < product.rating ? ' checked' : ''}`} />\n                      ))}\n                      <span>{` ${product.reviews.length} ${getNounReviews(product.reviews.length)}`}</span>\n                    </div>\n                    <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                      <strong>{formatter.format(product.price)}</strong>\n                    </p>\n                  </div>\n                </div>\n                <div className=\"box-inner-col price-col\">\n                  <h4 className=\"col-title price-text mb-2\">\n                    {formatter.format(product.price)}\n                  </h4>\n                  <div>\n                    <Link to={`/checkout/${product.id}`} className=\"btn btn-primary btn-lg\">Купить</Link>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  const values = queryString.parse(props.location.search);\n  return {\n    categories: state.categories.items,\n    products: state.products.byQuery[values.query] || {}\n  };\n}\n\nconst mapDispatchToProps = { fetchCategories, fetchProductsByQuery };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Category);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nfunction mapToCssModules(className = '', cssModule) {\n  if (!cssModule) return className;\n  return className\n    .split(' ')\n    .map(c => cssModule[c] || c)\n    .join(' ');\n}\n\nconst CarouselIndicators = (props) => {\n  const { items, activeIndex, cssModule, onClickHandler, className } = props;\n\n  const listClasses = mapToCssModules(cx(className, 'carousel-indicators'), cssModule);\n  const indicators = items.map((item, idx) => {\n    const indicatorClasses = mapToCssModules(cx(\n      { active: activeIndex === idx }\n    ), cssModule);\n    return (\n      <li\n        key={`${item.key || Object.values(item).join('')}`}\n        onClick={(e) => {\n          e.preventDefault();\n          onClickHandler(idx);\n        }}\n        className={indicatorClasses}\n      >\n        <img src={item} alt={`indicator-img-${item.key}`} />\n      </li>);\n  });\n\n  return (\n    <ol className={listClasses}>\n      {indicators}\n    </ol>\n  );\n};\n\nCarouselIndicators.propTypes = {\n  items: PropTypes.array.isRequired,\n  activeIndex: PropTypes.number.isRequired,\n  cssModule: PropTypes.object,\n  onClickHandler: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nexport default CarouselIndicators;","import React, { Component } from 'react';\n\nimport {\n  Carousel,\n  CarouselItem,\n  CarouselControl\n} from 'reactstrap';\nimport CarouselIndicators from './ProductCarouselIndicators';\n\nclass ProductCarousel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { activeIndex: 0 };\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.goToIndex = this.goToIndex.bind(this);\n    this.onExiting = this.onExiting.bind(this);\n    this.onExited = this.onExited.bind(this);\n  }\n\n  onExiting() {\n    this.animating = true;\n  }\n\n  onExited() {\n    this.animating = false;\n  }\n\n  next() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === this.props.images.length - 1 ? 0 : this.state.activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  previous() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === 0 ? this.props.images.length - 1 : this.state.activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  goToIndex(newIndex) {\n    if (this.animating) return;\n    this.setState({ activeIndex: newIndex });\n  }\n\n  render() {\n    const { activeIndex } = this.state;\n\n    const slides = this.props.images.map((item, key) => {\n      return (\n        <CarouselItem\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n          key={key}\n        >\n          <div className=\"img-wrap\">\n            <img src={item} alt={item.altText} />\n          </div>\n        </CarouselItem>\n      );\n    });\n\n    return (\n      <Carousel\n        activeIndex={activeIndex}\n        next={this.next}\n        previous={this.previous}\n        className=\"product-carousel\"\n        images={this.props.images}\n      >\n        <CarouselIndicators items={this.props.images} activeIndex={activeIndex} onClickHandler={this.goToIndex} />\n        {slides}\n        <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={this.previous} />\n        <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={this.next} />\n      </Carousel>\n    );\n  }\n}\n\nexport default ProductCarousel;\n","import React, {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {fetchProductById} from '../../store/modules/products/actions';\nimport Loader from '../Loader';\nimport ProductCarousel from './ProductCarousel';\nimport {Col, Nav, NavItem, NavLink, Row, TabContent, TabPane} from \"reactstrap\";\nimport classnames from 'classnames';\nimport {getNounReviews} from \"../../utils/getNoun\";\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Product({ product, fetchProductById, match }) {\n  useEffect(() => {\n    fetchProductById(match.params.id);\n  }, [match.params.id]);\n  \n  const [activeTab, setActiveTab] = useState('characteristics');\n  \n  function toggle(tab) {\n    if(activeTab !== tab) setActiveTab(tab);\n  }\n\n  if (product.fetching || !product.product) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-5\">\n          <ProductCarousel images={product.product.images} />\n        </div>\n        <div className=\"col-lg-5\">\n          <div className=\"product-info\">\n            <h3 className=\"h5\">{product.product.title}</h3>\n            <div className=\"rate my-2\">\n              {new Array(5).fill('').map((el, i) => (\n                <i key={i} className={`icon-star${i < product.product.rating ? ' checked' : ''}`} />\n              ))}\n              <span className=\"rate-amount ml-2\">\n                {`${product.product.reviews.length} ${getNounReviews(product.product.reviews.length)}`}\n              </span>\n            </div>\n            <div className=\"row flex-column-reverse flex-lg-row\">\n              <div className=\"col-md-7\">\n                <p className=\"d-none d-lg-block\">\n                  {product.product.description}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-2\">\n          <h4 className=\"col-title price-text mb-2 mt-0\">{formatter.format(product.product.price)}</h4>\n          <Link to={`/checkout/${product.product.id}`} className=\"btn btn-primary btn-lg\">Купить</Link>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-lg-7 offset-lg-5\">\n          <Nav tabs>\n            <NavItem>\n              <NavLink\n                className={classnames({ active: activeTab === 'characteristics' })}\n                onClick={() => { toggle('characteristics'); }}>\n                Характеристики\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink\n                className={classnames({ active: activeTab === 'reviews' })}\n                onClick={() => { toggle('reviews'); }}>\n                Отзывы\n              </NavLink>\n            </NavItem>\n          </Nav>\n          <TabContent activeTab={activeTab}>\n            <TabPane tabId=\"characteristics\">\n              <Row>\n                <Col sm=\"12\">\n                  <dl className=\"row\">\n                    {product.product.details.map(detail => (\n                      <React.Fragment>\n                        <dt className=\"col-sm-7\">{detail[0]}</dt>\n                        <dd className=\"col-sm-5\">{detail[1]}</dd>\n                      </React.Fragment>\n                    ))}\n                  </dl>\n                </Col>\n              </Row>\n            </TabPane>\n            <TabPane tabId=\"reviews\">\n              <Row>\n                <Col sm=\"12\">\n                  <dl className=\"row\">\n                    {product.product.reviews.map(review => (\n                      <React.Fragment>\n                        <dt className=\"col-sm-5\">\n                          <p>{review.author}</p>\n                          <p>\n                            {new Array(5).fill('').map((el, i) => (\n                              <span className={`fa fa-star${i < review.rating ? ' checked' : ''}`} />\n                            ))}\n                          </p>\n                        </dt>\n                        <dd className=\"col-sm-7\"><p>{review.text}</p></dd>\n                      </React.Fragment>\n                    ))}\n                  </dl>\n                </Col>\n              </Row>\n            </TabPane>\n          </TabContent>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    product: state.products.byId[props.match.params.id] || {}\n  };\n}\n\nconst mapDispatchToProps = { fetchProductById };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n","import React, {useEffect, useState} from 'react';\nimport { Alert, Form, FormGroup, Input, Label, Button } from 'reactstrap';\nimport {fetchProductById} from '../store/modules/products/actions';\nimport {checkout} from '../store/modules/orders/actions';\nimport {fetchMe} from '../store/modules/auth/actions';\nimport {connect} from 'react-redux';\nimport Loader from './Loader';\n\nconst formatter = new Intl.NumberFormat('ru-RU', { style: 'currency', currency: 'RUB' });\n\nfunction Checkout({ token, product, draft, me, fetchProductById, fetchMe, checkout, match, history }) {\n  useEffect(() => {\n    if (!token) return history.replace('/login');\n  }, []);\n  \n  useEffect(() => {\n    if (!token) return;\n    fetchMe();\n    fetchProductById(match.params.id);\n  }, [match.params.id]);\n  \n  const [state, setState] = useState('initial'); // 'pending'|'complete'\n  \n  const [phone, setPhone] = useState('+71111212123');\n  const [address, setAddress] = useState('Красная площадь, Москва, Россия');\n  \n  useEffect(() => {\n    if (draft.fetching === true) {\n      setState('pending');\n      return;\n    }\n    \n    if (!!draft.errors && state === 'pending') {\n      setState('initial');\n      return;\n    }\n    \n    if (!draft.errors && state === 'pending') {\n      setState('complete');\n    }\n  }, [draft]);\n  \n  function onSubmit(event) {\n    event.preventDefault();\n    checkout({\n      product: match.params.id,\n      phone, address,\n    });\n  }\n  \n  function backToShop(event) {\n    event.preventDefault();\n    history.replace('/');\n  }\n  \n  if (product.fetching || !product.product || me.fetching || !me.profile) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-lg-10\">\n          <Form onSubmit={onSubmit}>\n            <h3 className=\"h5 mb-4 mt-4 text-md-center\">Ваш заказ</h3>\n            {!!draft.errors && Object.keys(draft.errors).map(error => (\n              <Alert color=\"warning\" key={error}>{draft.errors[error]}</Alert>\n            ))}\n            {state === 'complete' &&\n              <Alert color=\"primary\">\n                Ваш заказ был оформлен. На ваш email отправлено подтверждение.\n              </Alert>\n            }\n            <div className=\"product-list-box\">\n              <div className=\"box-inner-col description-col\">\n                <div className=\"product-img\">\n                  <img src={product.product.images[0]} alt=\"img\" />\n                </div>\n                <div className=\"product-desc\">\n                  <h4 className=\"col-title mb-2\">{product.product.title}</h4>\n                  <p className=\"price-text mb-0 mt-2 d-inline-block d-md-none\">\n                    <strong>{formatter.format(product.product.price)}</strong>\n                  </p>\n                </div>\n              </div>\n              <div className=\"box-inner-col price-col justify-content-center\">\n                <p className=\"mb-0 font-weight-light\">Total:</p>\n                <h4 className=\"col-title price-text mb-2\">{formatter.format(product.product.price)}</h4>\n              </div>\n            </div>\n            {state !== 'complete' &&\n              <React.Fragment>\n                <h3 className=\"h5 mb-4 mt-5 text-md-center\">Детали заказа</h3>\n                <div className=\"jumbotron jumbotron-light jumbotron-form mb-0\">\n                  <div className=\"row\">\n                    <div className=\"col-md-6\">\n                      <FormGroup>\n                        <Label for=\"exampleInput\">Имя:</Label>\n                        <Input disabled value={me.profile.displayName} type=\"text\" className=\"form-control\" id=\"exampleInput\" />\n                      </FormGroup>\n                      <FormGroup className=\"mb-4\">\n                        <Label for=\"exampleInput2\">Email:</Label>\n                        <input disabled value={me.profile.email} type=\"email\" className=\"form-control\" id=\"exampleInput2\" />\n                      </FormGroup>\n                    </div>\n                    <div className=\"col-md-6\">\n                      <FormGroup>\n                        <Label for=\"exampleInput3\">Телефон:</Label>\n                        <input value={phone} type=\"text\" className=\"form-control\" id=\"exampleInput3\"\n                               disabled={state === 'complete'}\n                               onChange={e => setPhone(e.target.value)}\n                               placeholder=\"+7 111 12 12 123\"/>\n                      </FormGroup>\n                      <FormGroup className=\"mb-4\">\n                        <Label for=\"exampleInput4\">Адрес:</Label>\n                        <Input value={address} type=\"text\" className=\"form-control\" id=\"exampleInput4\"\n                               onChange={e => setAddress(e.target.value)}\n                               disabled={state === 'complete'}\n                               placeholder=\"Красная площадь, Москва, Россия\"/>\n                      </FormGroup>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"text-center mt-2 mb-5 my-sm-5\">\n                  <Button disabled={state === 'complete'} type=\"submit\" color=\"primary\" size=\"lg\">\n                    Подтвердить и оформить\n                  </Button>\n                </div>\n              </React.Fragment>\n            }\n            {state === 'complete' &&\n            <div className=\"text-center mt-2 mb-5 my-sm-5\">\n              <Button onClick={backToShop} color=\"primary\" size=\"lg\">\n                Обратно в магазин\n              </Button>\n            </div>\n            }\n          </Form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    product: state.products.byId[props.match.params.id] || {},\n    draft: state.orders.draft,\n    me: state.auth.me,\n    token: state.auth.token,\n  };\n}\n\nconst mapDispatchToProps = { fetchProductById, fetchMe, checkout };\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\n","import {CheckoutFailure, CheckoutRequest, CheckoutSuccess} from './constants';\nimport client from '../../../network';\n\nexport function checkout(data) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const token = state.auth.token;\n  \n    dispatch({type: CheckoutRequest, data});\n    \n    client.post('/api/orders', data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n    }).then(response => {\n      dispatch({type: CheckoutSuccess, data, order: response.data.order});\n    }).catch(error => {\n      dispatch({type: CheckoutFailure, data, errors: error.response.data.errors});\n    });\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\nimport Application from './components/Application';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport OAuthCallback from './components/OAuthCallback';\nimport Register from './components/Register';\nimport Confirm from './components/Confirm';\nimport Category from './components/Category';\nimport Search from './components/Search';\nimport Product from './components/Product/Product';\nimport Checkout from './components/Checkout';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <Application>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/oauth/:provider\" component={OAuthCallback} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/confirm/:verificationToken\" component={Confirm} />\n        <Route path=\"/category/:category\" component={Category} />\n        <Route path=\"/search\" component={Search} />\n        <Route path=\"/product/:id\" component={Product} />\n        <Route path=\"/checkout/:id\" component={Checkout} />\n      </Application>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport Chat from './Chat/Chat';\n\nexport default function Application({children}) {\n  return (\n    <React.Fragment>\n      <Header />\n      <main role=\"main\">\n        {children}\n        <div className=\"d-none d-lg-block\">\n          <Chat isFixed isCollapsed />\n        </div>\n      </main>\n      <Footer />\n    </React.Fragment>\n  );\n}\n"],"sourceRoot":""}