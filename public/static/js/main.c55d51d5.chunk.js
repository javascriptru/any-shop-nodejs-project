(this["webpackJsonpnodejs-course-react-app"]=this["webpackJsonpnodejs-course-react-app"]||[]).push([[0],{104:function(e,t,a){e.exports=a(226)},184:function(e,t){},226:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(30),s=a.n(r),l=a(10),o=a(9),i=a(21);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=a(23),u=a(96),d=a(6);const p={token:localStorage.getItem("token")||null,login:{error:null,processing:!1},registration:{errors:null,processing:!1,complete:!1},confirmation:{error:null,processing:!1},oauth:{error:null,processing:!1},oauthCallback:{error:null,processing:!1},me:{fetching:!1,profile:null}};const g={items:[],isLoading:!1};const h={isWebsocketConnected:!1,messages:[]};const E={draft:{fetching:!1,errors:null}};const b={recommendations:[],byCategory:{},byQuery:{},byId:{}};const f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d;var v=Object(m.e)(Object(m.c)({auth:function(e=p,t){switch(t.type){case"LoginRequest":return Object(d.a)({},e,{login:Object(d.a)({},p.login,{processing:!0})});case"LoginSuccess":return localStorage.setItem("token",t.token),Object(d.a)({},e,{login:p.login,token:t.token});case"LoginFailure":return Object(d.a)({},e,{login:Object(d.a)({},p.login,{error:t.error,processing:!1})});case"RegisterRequest":return Object(d.a)({},e,{registration:Object(d.a)({},p.registration,{processing:!0})});case"RegisterSuccess":return Object(d.a)({},e,{registration:Object(d.a)({},p.registration,{processing:!1,complete:!0})});case"RegisterFailure":return Object(d.a)({},e,{registration:Object(d.a)({},p.registration,{errors:Object.keys(t.errors).map(e=>t.errors[e]),processing:!1})});case"ConfirmRequest":return Object(d.a)({},e,{confirmation:Object(d.a)({},p.confirmation,{processing:!0})});case"ConfirmSuccess":return localStorage.setItem("token",t.token),Object(d.a)({},e,{confirmation:p.confirmation,token:t.token});case"ConfirmFailure":return Object(d.a)({},e,{confirmation:Object(d.a)({},p.confirmation,{error:t.error,processing:!1})});case"OAuthRequest":return Object(d.a)({},e,{oauth:Object(d.a)({},p.oauth,{processing:!0})});case"OAuthFailure":return Object(d.a)({},e,{oauth:Object(d.a)({},p.oauth,{error:t.error,processing:!1})});case"OAuthCallbackRequest":return Object(d.a)({},e,{oauthCallback:Object(d.a)({},p.oauthCallback,{processing:!0})});case"OAuthCallbackFailure":return Object(d.a)({},e,{oauthCallback:Object(d.a)({},p.oauthCallback,{error:t.error,processing:!1})});case"OAuthCallbackSuccess":return localStorage.setItem("token",t.token),Object(d.a)({},e,{oauthCallback:p.oauthCallback,token:t.token});case"FetchMeRequest":return Object(d.a)({},e,{me:Object(d.a)({},p.me,{fetching:!0})});case"FetchMeSuccess":return Object(d.a)({},e,{me:Object(d.a)({},p.me,{profile:t.profile})});default:return e}},categories:function(e=g,t){switch(t.type){case"FetchCategoriesRequest":return{isLoading:!0,items:[]};case"FetchCategoriesSuccess":return{isLoading:!1,items:t.categories};default:return e}},chat:function(e=h,t){switch(t.type){case"FetchMessagesSuccess":return Object(d.a)({},e,{messages:t.messages.concat(e.messages)});case"WebsocketConnected":return Object(d.a)({},e,{isWebsocketConnected:!0});case"WebsocketDisconnected":return Object(d.a)({},e,{isWebsocketConnected:!1});case"Message":return Object(d.a)({},e,{messages:e.messages.concat(t.message)});default:return e}},orders:function(e=E,t){switch(t.type){case"CheckoutRequest":return Object(d.a)({},e,{draft:Object(d.a)({fetching:!0,error:null},t.data)});case"CheckoutSuccess":return Object(d.a)({},e,{draft:{fetching:!1,error:null},[t.order]:t.data});case"CheckoutFailure":return Object(d.a)({},e,{draft:Object(d.a)({},e.draft,{fetching:!1,errors:t.errors})});default:return e}},products:function(e=b,t){switch(t.type){case"FetchRecommendationsSuccess":return Object(d.a)({},e,{recommendations:t.recommendations});case"FetchProductsByCategorySuccess":return Object(d.a)({},e,{byCategory:Object(d.a)({},e.byCategory,{[t.category]:t.products})});case"FetchProductsByQueryRequest":return Object(d.a)({},e,{byQuery:Object(d.a)({},e.byQuery,{[t.query]:{fetching:!0,products:[]}})});case"FetchProductsByQuerySuccess":return Object(d.a)({},e,{byQuery:Object(d.a)({},e.byQuery,{[t.query]:{fetching:!1,products:t.products}})});case"FetchProductByIdRequest":return Object(d.a)({},e,{byId:Object(d.a)({},e.byId,{[t.id]:{fetching:!0,product:null}})});case"FetchProductByIdSuccess":return Object(d.a)({},e,{byId:Object(d.a)({},e.byId,{[t.id]:{fetching:!1,product:t.product}})});default:return e}}}),f(Object(m.a)(u.a))),y=a(11),N=a(103),x=a(256),k=a(227),O=a(97);var j=({handleToggleModal:e})=>n.a.createElement(O.a,{color:"link",className:"arrow-back px-2 py-2",onClick:e,"aria-label":"back"},n.a.createElement("img",{src:"/assets/icons/icon-arrow.svg",alt:"back"}));var C=({handleToggleModal:e})=>n.a.createElement(O.a,{color:"link",className:"btn-close float-none px-2 py-2",onClick:e,"aria-label":"close"},n.a.createElement("img",{src:"/assets/icons/icon-close.svg",alt:"close"}));var w=e=>{let t=e.title,a=e.content,c=e.isBackBtn,r=e.isCloseBtn,s=e.isOpen,l=e.handleToggleModal,o=Object(N.a)(e,["title","content","isBackBtn","isCloseBtn","isOpen","handleToggleModal"]);return n.a.createElement(x.a,Object.assign({title:t,isOpen:s,toggle:l,content:a},o),n.a.createElement(k.a,null,t,c&&n.a.createElement(j,{handleToggleModal:l}),r&&n.a.createElement(C,{handleToggleModal:l})),a)},I=a(33),S=a.n(I),F=a(230),B=a(4),T=a.n(B),R=a(228),q=a(229);var M=({income:e,outcome:t,date:a,from:c,message:r})=>n.a.createElement("div",{className:T()("chat__message",{"-income":e,"-outcome":t})},n.a.createElement("div",{className:"chat__message--date"},c," @ ",function(e){const t=new Date(e);return"".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}(a)),n.a.createElement("div",{className:"chat__message--inner"},r));var _=({isWebsocketConnected:e,messages:t,sendMessage:a})=>{const r=Object(c.useState)(""),s=Object(y.a)(r,2),l=s[0],o=s[1];return n.a.createElement("div",{className:"chat__inner"},n.a.createElement("div",{className:"chat__body"},t.map(e=>n.a.createElement(M,{key:e.id,income:!0,date:e.date,from:e.user,message:e.text}))),n.a.createElement("div",{className:"chat__footer"},n.a.createElement(R.a,{onSubmit:function(t){t.preventDefault(),e&&(a(l),o(""))},className:"form-inline form-inline-flex"},n.a.createElement(q.a,{value:l,onChange:e=>o(e.target.value),className:"form-control mr-2",type:"text"}),n.a.createElement(O.a,{type:"submit",color:"link",className:"btn btn-send"},n.a.createElement("img",{src:"/assets/icons/icon-send.svg",alt:""})))))},A=a(98),P=a.n(A),D=a(99),L=a.n(D).a.create({baseURL:"",validateStatus:e=>e<=399});function W(){return(e,t)=>{e({type:"FetchMessagesRequest"});const a=t().auth.token;L.get("/api/messages",{headers:{Authorization:"Bearer ".concat(a)}}).then(t=>{e({type:"FetchMessagesSuccess",messages:t.data.messages})}).catch(t=>{e({type:"FetchMessagesFailure",error:t.response.data.error})})}}function Q(e){return{type:"Message",message:e}}function U(){return(e,t)=>{const a=t();if(a.auth.me.fetching||a.auth.me.profile)return;e({type:"FetchMeRequest"});const c=a.auth.token;L.get("/api/me",{headers:{Authorization:"Bearer ".concat(c)}}).then(t=>{e({type:"FetchMeSuccess",profile:t.data})}).catch(t=>{e({type:"FetchMeFailure",error:t.response.data.error})})}}let H=null;var z=Object(l.b)((function(e){return{token:e.auth.token,me:e.auth.me,isWebsocketConnected:e.chat.isWebsocketConnected,messages:e.chat.messages}}),(function(e){return Object(d.a)({dispatch:e},Object(m.b)({fetchMessages:W,sendMessage:Q,fetchMe:U},e))}))((function(e){const t=e.token,a=e.isWebsocketConnected,r=e.messages,s=e.me,l=e.isCollapsed,o=e.isFixed,i=e.dispatch,m=e.fetchMessages,u=e.sendMessage,d=e.fetchMe,p=Object(c.useState)(!1),g=Object(y.a)(p,2),h=g[0],E=g[1];function b(e){H.emit("message",{text:e,date:Date.now()}),u({text:e,user:S()(s,"profile.displayName","\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),date:Date.now(),id:Date.now()})}return Object(c.useEffect)(()=>{t&&(d(),m())},[t]),Object(c.useEffect)(()=>{const e=t?{transportOptions:{polling:{extraHeaders:{Authorization:"Bearer ".concat(t)}}}}:{};H=P()("",e),H.on("connect",()=>{i({type:"WebsocketConnected"})}),H.on("disconnect",()=>{i({type:"WebsocketDisconnected"})}),H.on("message",e=>{i({type:"Message",message:e})})},[t]),n.a.createElement("div",{className:T()("chat",{fixed:o})},l&&n.a.createElement("div",{className:"chat__header",onClick:function(){E(!h)}},"\u0415\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441?",n.a.createElement("img",{src:"/assets/icons/icon-chat-white.svg",alt:"icon-chat"})),l?n.a.createElement(F.a,{isOpen:h},n.a.createElement(_,{isWebsocketConnected:a,sendMessage:b,messages:r})):n.a.createElement(_,{isWebsocketConnected:a,sendMessage:b,messages:r}))}));var V=({data:e})=>n.a.createElement("div",{className:"modal-menu"},e&&e.map((e,t)=>n.a.createElement(o.b,{to:e.src,key:t,className:"modal-menu__item"},e.title)));var G=()=>{const e=Object(c.useState)(!1),t=Object(y.a)(e,2),a=t[0],n=t[1];return{isOpen:a,handleToggleModal:function(){n(!a)}}};var J=({context:e,isChat:t})=>{const a=Object(c.useContext)(e),r=G(),s=r.isOpen,l=r.handleToggleModal;return n.a.createElement(n.a.Fragment,null,n.a.createElement(w,{title:a.title,content:a.modalComponent,isBackBtn:!0,isCloseBtn:!0,isOpen:s,handleToggleModal:l}),n.a.createElement(O.a,{color:"link",className:"modal-menu__item is-submenu w-100",onClick:l},a.title," ",t&&n.a.createElement("img",{src:"assets/icons/icon-chat.svg",alt:""})))},K=a(231);const X=n.a.createContext(),Y=({item:e})=>n.a.createElement(X.Provider,{value:e},n.a.createElement(J,{context:X,isChat:e.isChat}));var $=Object(i.g)(({token:e,categories:t,history:a})=>{const r=Object(c.useState)(""),s=Object(y.a)(r,2),l=s[0],i=s[1];return n.a.createElement("div",{className:"modal-menu"},!e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(o.b,{to:"/login",className:"modal-menu__item"},"\u0412\u0445\u043e\u0434"),n.a.createElement(o.b,{to:"/register",className:"modal-menu__item"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),!!e&&n.a.createElement(Y,{item:{title:"\u0415\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441?",modalComponent:n.a.createElement(z,null),isChat:!0}}),n.a.createElement("div",{className:"modal-menu__item d-flex"},n.a.createElement(R.a,{inline:!0,className:"d-flex flex-grow-1"},n.a.createElement(K.a,{style:{marginBottom:0},className:"flex-grow-1 mr-2"},n.a.createElement(q.a,{type:"text",name:"query",value:l,onChange:e=>i(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a"})),n.a.createElement(O.a,{onClick:function(e){e.preventDefault(),l.length&&a.push("/search?query=".concat(l))}},"\u041d\u0430\u0439\u0442\u0438"))),n.a.createElement("h3",{className:"h6 mb-0 modal-menu__title"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),t.map(e=>{const t={title:e.title,modalComponent:n.a.createElement(V,{data:e.subcategories.map(e=>({title:e.title,src:"/category/".concat(e.slug)}))}),isChat:!1};return n.a.createElement(Y,{key:e.id,item:t})}))}),Z=a(34),ee=a.n(Z);function te(){return(e,t)=>{const a=t();a.categories.isLoading||0===a.categories.items.length&&(e({type:"FetchCategoriesRequest"}),L.get("/api/categories").then(t=>{e({type:"FetchCategoriesSuccess",categories:t.data.categories})}).catch(t=>{e({type:"FetchCategoriesFailure",error:t.response.data.error})}))}}var ae=a(232),ce=a(233),ne=a(234),re=a(235),se=a(236),le=a(237);const oe={fetchCategories:te};var ie=Object(i.g)(Object(l.b)((function(e){return{token:e.auth.token,categories:e.categories.items}}),oe)((function({token:e,categories:t,fetchCategories:a,history:r,location:s}){const l=ee.a.parse(s.search),i=G(),m=i.isOpen,u=i.handleToggleModal,d=Object(c.useState)(!1),p=Object(y.a)(d,2),g=p[0],h=(p[1],Object(c.useState)(l.query||"")),E=Object(y.a)(h,2),b=E[0],f=E[1];return Object(c.useEffect)(()=>{b!==l.query&&f(l.query||""),m&&u()},[s.search]),Object(c.useEffect)(()=>{m&&u()},[s.pathname]),Object(c.useEffect)(()=>{a()},[]),n.a.createElement("header",null,n.a.createElement(ae.a,{light:!0,expand:"lg"},n.a.createElement("div",{className:"container-xl justify-content-start"},n.a.createElement(ce.a,{className:"flex-grow-1"},n.a.createElement(ne.a,{lg:"3"},n.a.createElement(w,{title:"\u041c\u0435\u043d\u044e",content:n.a.createElement($,{token:e,categories:t}),id:"xsMenuModal",isCloseBtn:!0,isOpen:m,handleToggleModal:u}),n.a.createElement(re.a,{onClick:u,className:"d-inline-flex d-md-none"},n.a.createElement("img",{src:"/assets/icons/icon-menu.svg",alt:"menu icon"})),n.a.createElement(o.b,{to:"/",className:"navbar-brand"},n.a.createElement("strong",null,"AnyShop"))),n.a.createElement(ne.a,{lg:"9",className:"d-none d-lg-block"},n.a.createElement(F.a,{isOpen:g,navbar:!0,className:"d-flex justify-content-between"},n.a.createElement(se.a,{navbar:!0,className:"w-75"},n.a.createElement(le.a,{className:"flex-grow-1"},n.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),""!==b&&r.push("/search?query=".concat(b))},inline:!0},n.a.createElement(q.a,{className:"form-control flex-grow-1 mr-1",type:"text",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0431\u0440\u0435\u043d\u0434","aria-label":"Search",value:b,onChange:e=>f(e.target.value)}),n.a.createElement(O.a,{type:"submit",color:"primary",outline:!0},"\u041f\u043e\u0438\u0441\u043a")))),!e&&n.a.createElement("div",null,n.a.createElement(o.b,{to:"/login",className:"text-muted"},"\u0412\u0445\u043e\u0434")," | ",n.a.createElement(o.b,{to:"/register",className:"text-muted"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),!!e&&n.a.createElement("a",{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),window.location.href="/"},href:"#",className:"text-muted"},"\u0412\u044b\u0439\u0442\u0438")))))))})));var me=function(){return n.a.createElement("footer",{className:"footer"},n.a.createElement("div",{className:"container-xl"},n.a.createElement("div",{className:"footer-inner"},n.a.createElement("div",{className:"footer-menu"},n.a.createElement(o.b,{to:"#",className:"text-muted"},"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),n.a.createElement("span",{className:"d-none d-md-inline-flex footer-menu-separator"},"|"),n.a.createElement(o.b,{to:"#",className:"text-muted"},"\u041a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),n.a.createElement("span",{className:"d-none d-md-inline-flex footer-menu-separator"},"|"),n.a.createElement(o.b,{to:"#",className:"text-muted"},"Cookies"),n.a.createElement("span",{className:"d-none d-md-inline-flex footer-menu-separator"},"|"),n.a.createElement(o.b,{to:"#",className:"text-muted"},"\u0413\u0430\u0440\u0430\u043d\u0442\u0438\u044f")),n.a.createElement("div",null,"\xa9 2020, learn.javascript.ru"))))};var ue=a(240),de=a(241),pe=a(238),ge=a(257),he=a(258),Ee=a(239);var be=({dropdownTitle:e,dropdownItems:t})=>{const a=Object(i.f)(),r=Object(c.useState)(!1),s=Object(y.a)(r,2),l=s[0],o=s[1];return n.a.createElement(pe.a,{isOpen:l,toggle:function(){o(!l)}},n.a.createElement(ge.a,{caret:!0,tag:"a",className:"nav-link"},e),n.a.createElement(he.a,null,t.map((e,t)=>{return n.a.createElement(Ee.a,{key:t,onClick:(c="/category/".concat(e.slug),()=>{a.push(c)})},e.title);var c})))};var fe=({categories:e})=>n.a.createElement("div",{className:"d-none d-lg-block col-lg-3"},n.a.createElement(ue.a,{className:"sidebar"},e.map(e=>n.a.createElement(de.a,{key:e.id},n.a.createElement(be,{dropdownTitle:e.title,dropdownItems:e.subcategories}))))),ve=a(102),ye=a(242),Ne=a(243),xe=a(244);const ke=[{id:"0",originalTitle:"\u0418\u0433\u0440\u0443\u0448\u043a\u0438 \u0438 \u0440\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f",src:"/assets/images/default-slide-img.jpg",altText:"\u0418\u0433\u0440\u0443\u0448\u043a\u0438",captionTitle:"\u041b\u0443\u0447\u0448\u0438\u0435 \u0438\u0433\u0440\u0443\u0448\u043a\u0438",captionBtnText:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",captionBtnIconSrc:"/assets/icons/icon-angle-white.svg"},{id:"1",originalTitle:"LCD \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440\u044b",src:"/assets/images/default-slide-img.jpg",altText:"Slide 2",captionTitle:"\u041b\u0443\u0447\u0448\u0438\u0435 LCD \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440\u044b",captionBtnText:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",captionBtnIconSrc:"/assets/icons/icon-angle-white.svg"},{id:"2",originalTitle:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a\u0438 \u0438 \u0430\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044b",src:"/assets/images/default-slide-img.jpg",altText:"Slide 3",captionTitle:"\u041b\u0443\u0447\u0448\u0438\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a\u0438",captionBtnText:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",captionBtnIconSrc:"/assets/icons/icon-angle-white.svg"}];class Oe extends c.Component{constructor(e){super(e),this.state={activeIndex:0},this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.goToIndex=this.goToIndex.bind(this),this.onExiting=this.onExiting.bind(this),this.onExited=this.onExited.bind(this)}onExiting(){this.animating=!0}onExited(){this.animating=!1}next(){if(this.animating)return;const e=this.state.activeIndex===ke.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}previous(){if(this.animating)return;const e=0===this.state.activeIndex?ke.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}goToIndex(e){this.animating||this.setState({activeIndex:e})}render(){const e=this.state.activeIndex,t=this.props.categories,a=ke.map(e=>{const a=t.reduce((t,a)=>{if(t)return t;const c=a.subcategories.find(({title:t})=>t===e.originalTitle);return c||t},null);return n.a.createElement(ve.a,{onExiting:this.onExiting,onExited:this.onExited,key:e.id},n.a.createElement("img",{src:e.src,alt:e.altText,className:"third-slide"}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"carousel-caption"},n.a.createElement("h3",{className:"h1"},e.captionTitle),n.a.createElement("div",null,n.a.createElement(o.b,{className:"btn",to:"/category/".concat(a.slug),role:"button"},e.captionBtnText,n.a.createElement("img",{src:e.captionBtnIconSrc,className:"ml-3",alt:""}))))))});return n.a.createElement(ye.a,{activeIndex:e,next:this.next,previous:this.previous,className:"main-carousel"},n.a.createElement(Ne.a,{items:ke,activeIndex:e,onClickHandler:this.goToIndex}),a,n.a.createElement(xe.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),n.a.createElement(xe.a,{direction:"next",directionText:"Next",onClickHandler:this.next}))}}var je=Oe,Ce=a(250),we=a(245),Ie=a(246),Se=a(247),Fe=a(248),Be=a(249);function Te(e){let t=Math.abs(e);return t%=100,t>=5&&t<=20?"\u043e\u0446\u0435\u043d\u043e\u043a":(t%=10,1===t?"\u043e\u0446\u0435\u043d\u043a\u0430":t>=2&&t<=4?"\u043e\u0446\u0435\u043d\u043a\u0438":"\u043e\u0446\u0435\u043d\u043e\u043a")}var Re=({url:e,cardTitle:t,cardImgSrc:a,rating:c,reviews:r,cardPrice:s,discount:l})=>n.a.createElement(we.a,{tag:o.b,to:e},n.a.createElement("div",{className:"card-img-wrap"},n.a.createElement(Ie.a,{width:"100%",className:"card-img-top",src:a,alt:"Card image cap"})),n.a.createElement(Se.a,null,n.a.createElement(Fe.a,null,t),n.a.createElement("div",{className:"flex-grow"}),n.a.createElement("div",{className:"rate"},new Array(5).fill("").map((e,t)=>n.a.createElement("i",{key:t,className:"icon-star".concat(t<c?" checked":"")})),n.a.createElement("span",{className:"rate-amount ml-2"},r)),n.a.createElement(Be.a,{className:T()("price-text",{discount:l})},n.a.createElement("strong",null,s),l&&n.a.createElement("small",{className:"ml-2"},l))));const qe=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});var Me=function({items:e}){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"section-title text-dark"},"\u041b\u0443\u0447\u0448\u0438\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441"),n.a.createElement(Ce.a,{className:"homepage-cards"},e.map(e=>n.a.createElement(Re,{key:e.id,url:"/product/".concat(e.id),cardTitle:e.title,cardImgSrc:e.images[0],rating:e.rating,reviews:e.reviews.length,cardPrice:qe.format(e.price),discount:e.discount}))))};function _e(){return n.a.createElement("div",{className:"container container-loader"},n.a.createElement("div",{className:"lds-default"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))}function Ae(e){return(t,a)=>{const c=a();!1!==S()(c,"products.byId[".concat(e,"].fetching"))&&(t({type:"FetchProductByIdRequest",id:e}),L.get("/api/products/".concat(e)).then(a=>{t({type:"FetchProductByIdSuccess",id:e,product:a.data.product})}).catch(a=>{t({type:"FetchProductByIdFailure",id:e,error:a.response.data.error})}))}}const Pe={fetchCategories:te,fetchRecommendations:function(){return(e,t)=>{0===t().products.recommendations.length&&(e({type:"FetchRecommendationsRequest"}),L.get("/api/recommendations").then(t=>{e({type:"FetchRecommendationsSuccess",recommendations:t.data.recommendations})}).catch(t=>{e({type:"FetchRecommendationsFailure",error:t.response.data.error})}))}}};var De=Object(l.b)((function(e){return{categories:e.categories.items,recommendations:e.products.recommendations}}),Pe)((function({categories:e,recommendations:t,fetchCategories:a,fetchRecommendations:r}){return Object(c.useEffect)(()=>{a(),r()},[]),e.length&&t.length?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"backdrop"}),n.a.createElement("div",{className:"container-xl"},n.a.createElement("div",{className:"row flex-column-reverse flex-lg-row"},n.a.createElement(fe,{categories:e}),n.a.createElement("div",{className:"col-lg-9"},n.a.createElement(je,{categories:e})))),n.a.createElement("div",{className:"container-xl"},n.a.createElement("div",{className:"row justify-content-end"},n.a.createElement("div",{className:"col-lg-9"},n.a.createElement(Me,{items:t}))))):n.a.createElement(_e,null)}));var Le=Object(l.b)(null,{oauthAction:function({provider:e}){return(t,a)=>{t({type:"OAuthRequest"}),L.get("/api/oauth/".concat(e)).then(e=>{window.location.href=e.data.location}).catch(e=>{t({type:"OAuthFailure",error:e.response.data.error})})}}})((function(e){const t=Object(c.useState)({}),a=Object(y.a)(t,2),r=a[0],s=a[1];function l(t){return()=>e.oauthAction({provider:t})}function o(e){s(Object(d.a)({},r,{[e.target.name]:e.target.value}))}return n.a.createElement("div",{className:"container pt-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("form",{onSubmit:t=>e.onSubmit(t,r)},e.errors&&!!e.errors.length&&e.errors.map((e,t)=>n.a.createElement("div",{key:t,className:"alert alert-danger",role:"alert"},e)),n.a.createElement("div",{className:"jumbotron jumbotron-light jumbotron-form"},e.fields.map(e=>n.a.createElement("div",{className:"form-group",key:e.id},n.a.createElement("label",{htmlFor:e.id},e.label),n.a.createElement("input",{type:e.type,className:"form-control",id:e.id,placeholder:e.placeholder,name:e.name,value:r[e.name]||"",onChange:o,required:!0}))),n.a.createElement("div",{className:"form-group text-center"},n.a.createElement("button",{disabled:e.disabled,type:"submit",className:"btn btn-primary btn-lg"},e.submitButton)),n.a.createElement("div",{className:"form-footer mt-4 text-center"},n.a.createElement(e.Footer,null)))),n.a.createElement("div",{className:"h4 text-center font-weight-normal text-uppercase my-5 d-none d-lg-block"},"\u0438\u043b\u0438"),n.a.createElement("div",{className:"socials mb-5"},n.a.createElement("a",{href:"#",className:"btn btn-primary btn-social -github",onClick:l("github")},n.a.createElement("i",{className:"fab fa-github"}),"Github"),n.a.createElement("a",{href:"#",className:"btn btn-primary btn-social -vk",onClick:l("vkontakte")},n.a.createElement("i",{className:"fab fa-vk"}),"VK"),n.a.createElement("a",{href:"#",className:"btn btn-primary btn-social -twitter",onClick:l("yandex")},n.a.createElement("i",{className:"fab fa-yandex"}),"Yandex")))))}));const We=[{label:"Email",type:"email",id:"email",name:"email",placeholder:"Email"},{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}];const Qe={loginAction:function({email:e,password:t}){return(a,c)=>{a({type:"LoginRequest"}),L.post("/api/login",{email:e,password:t}).then(e=>{a({type:"LoginSuccess",token:e.data.token})}).catch(e=>{a({type:"LoginFailure",error:e.response.data.error})})}}};var Ue=Object(l.b)((function(e){return{login:e.auth.login,token:e.auth.token}}),Qe)((function({token:e,login:t,loginAction:a}){return e?n.a.createElement(i.a,{to:"/"}):n.a.createElement(Le,{disabled:t.processing,title:"\u0412\u0445\u043e\u0434",errors:t.error?[t.error]:null,onSubmit:function(e,c){e.preventDefault(),t.processing||a(c)},fields:We,submitButton:"\u0412\u043e\u0439\u0442\u0438",Footer:()=>n.a.createElement(n.a.Fragment,null,"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",n.a.createElement(o.b,{to:"/register"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))})}));const He={vkontakte:"VK",fb:"Facebook",github:"Github"};class ze extends c.Component{constructor(e){super(e),this.params=new URLSearchParams(e.location.search),this.provider=e.match.params.provider}componentDidMount(){this.params.get("error")||this.props.oauthCallbackAction({code:this.params.get("code"),provider:this.provider})}render(){const e=this.props,t=e.token,a=e.oauthCallback;return t?n.a.createElement(i.a,{to:"/"}):n.a.createElement("main",{className:"container"},n.a.createElement("div",{className:"row login-form justify-content-center align-items-center"},n.a.createElement("div",{className:"col col-md-6"},n.a.createElement("div",{className:"text-center border border-light p-5"},n.a.createElement("p",{className:"h4 mb-4"},"\u041b\u043e\u0433\u0438\u043d \u0447\u0435\u0440\u0435\u0437 ",He[this.provider]),a.error||this.params.get("error")?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-danger"},"\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."),n.a.createElement("p",{className:"text-danger"},a.error||""),n.a.createElement(o.b,{to:"/"},"\u0412\u0445\u043e\u0434")):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435."),n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")))))))}}const Ve={oauthCallbackAction:function({provider:e,code:t}){return(a,c)=>{a({type:"OAuthCallbackRequest"}),L.post("/api/oauth_callback",{provider:e},{params:{code:t}}).then(e=>{a({type:"OAuthCallbackSuccess",token:e.data.token})}).catch(e=>{a({type:"OAuthCallbackFailure",error:e.response.data.error})})}}};var Ge=Object(l.b)((function(e){return{oauthCallback:e.auth.oauthCallback,token:e.auth.token}}),Ve)(ze);const Je=[{label:"Email",type:"email",id:"email",name:"email",placeholder:"Email"},{label:"\u0418\u043c\u044f",type:"text",id:"displayName",name:"displayName",placeholder:"\u0418\u043c\u044f"},{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}];const Ke={registerAction:function({email:e,displayName:t,password:a}){return(c,n)=>{c({type:"RegisterRequest"}),L.post("/api/register",{email:e,displayName:t,password:a}).then(e=>{c({type:"RegisterSuccess"})}).catch(e=>{c({type:"RegisterFailure",errors:e.response.data.errors})})}}};var Xe=Object(l.b)((function(e){return{registration:e.auth.registration}}),Ke)((function({registration:e,registerAction:t}){return e.complete?n.a.createElement("div",{className:"container pt-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"text-center border border-light p-5"},n.a.createElement("p",{className:"h4 mb-4"},"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0432\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!"),n.a.createElement("p",null,"\u041d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0432\u0430\u043c\u0438 \u043f\u043e\u0447\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e."),n.a.createElement("p",null,"\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430."))))):n.a.createElement(Le,{disabled:e.processing,title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",validated:e.errors,errors:e.errors,onSubmit:function(a,c){a.preventDefault(),e.processing||t(c)},fields:Je,submitButton:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442",Footer:()=>n.a.createElement("p",null,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?\xa0",n.a.createElement(o.b,{to:"/login"},"\u0412\u0445\u043e\u0434"))})}));const Ye={confirmAction:function({verificationToken:e}){return(t,a)=>{t({type:"ConfirmRequest"}),L.post("/api/confirm",{verificationToken:e}).then(e=>{t({type:"ConfirmSuccess",token:e.data.token})}).catch(e=>{t({type:"ConfirmFailure",error:e.response.data.error})})}}};var $e=Object(l.b)((function(e){return{confirmation:e.auth.confirmation,token:e.auth.token}}),Ye)((function({token:e,confirmation:t,confirmAction:a,match:r}){return Object(c.useEffect)(()=>{a({verificationToken:r.params.verificationToken})},[]),e?n.a.createElement(i.a,{to:"/"}):n.a.createElement("main",{className:"container"},n.a.createElement("div",{className:"row login-form justify-content-center align-items-center"},n.a.createElement("div",{className:"col col-md-6"},n.a.createElement("div",{className:"text-center border border-light p-5"},n.a.createElement("p",{className:"h4 mb-4"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430"),t.error?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-danger"},"\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."),n.a.createElement("p",{className:"text-danger"},t.error),n.a.createElement(o.b,{to:"/"},"\u0412\u0445\u043e\u0434")):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442\u0441\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435."),n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")))))))}));function Ze({categoryId:e=null,subcategoryId:t={},categories:a}){const r=Object(c.useState)(e),s=Object(y.a)(r,2),l=s[0],i=s[1];return Object(c.useEffect)(()=>{i(e)}),n.a.createElement("div",{className:"d-none d-lg-block col-lg-3"},n.a.createElement("div",{id:"accordion",className:"aside-accordion-menu list-group"},a.map(e=>n.a.createElement("div",{className:"list-group-item",key:e.id},n.a.createElement("h5",{className:"mb-0",onClick:()=>i(e.id)},e.title," ",n.a.createElement("img",{src:"/assets/icons/icon-angle.svg",alt:"angle-right"})),n.a.createElement(F.a,{isOpen:l===e.id},n.a.createElement("ul",null,e.subcategories.map(e=>n.a.createElement("li",{key:e.id},n.a.createElement(o.b,{className:t.id===e.id?"active":null,to:"/category/".concat(e.slug)},e.title)))))))))}const et=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});const tt={fetchCategories:te,fetchProductsByCategory:function(e){return(t,a)=>{a().products.byCategory[e]||(t({type:"FetchProductsByCategoryRequest",category:e}),L.get("/api/products",{params:{subcategory:e}}).then(a=>{t({type:"FetchProductsByCategorySuccess",category:e,products:a.data.products})}).catch(a=>{t({type:"FetchProductsByCategoryFailure",category:e,error:a.response.data.error})}))}}};var at=Object(l.b)((function(e,t){return{categories:e.categories.items,products:e.products.byCategory[t.match.params.category]||[]}}),tt)((function({categories:e,products:t,fetchCategories:a,fetchProductsByCategory:r,match:s}){Object(c.useEffect)(()=>{a(),r(s.params.category)},[s.params.category]);const l=Object(c.useState)(null),i=Object(y.a)(l,2),m=i[0],u=i[1],d=Object(c.useState)({}),p=Object(y.a)(d,2),g=p[0],h=p[1];return Object(c.useEffect)(()=>{var t=!0,a=!1,c=void 0;try{for(var n,r=e[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){const e=n.value,t=e.subcategories.find(({slug:e})=>e===s.params.category);if(t){console.log("select category"),u(e.id),h(t);break}}}catch(l){a=!0,c=l}finally{try{t||null==r.return||r.return()}finally{if(a)throw c}}},[s.params.category,e.length]),e.length&&t.length?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row flex-column-reverse flex-lg-row"},n.a.createElement(Ze,{categories:e,categoryId:m,subcategoryId:g}),n.a.createElement("div",{className:"col-lg-9"},n.a.createElement("h3",{className:"h5 mt-4 mt-md-0 pt-1 mb-4"},g.title),t.map(e=>n.a.createElement("div",{className:"product-list-box",key:e.id},n.a.createElement("div",{className:"box-inner-col description-col"},n.a.createElement(o.b,{to:"/product/".concat(e.id),className:"product-img"},n.a.createElement("img",{src:e.images[0],alt:"img"})),n.a.createElement("div",{className:"product-desc"},n.a.createElement("h4",{className:"col-title mb-2"},n.a.createElement(o.b,{to:"/product/".concat(e.id)},e.title)),n.a.createElement("div",{className:"rate"},new Array(5).fill("").map((t,a)=>n.a.createElement("i",{key:a,className:"icon-star".concat(a<e.rating?" checked":"")}))),n.a.createElement("p",{className:"rate-amount d-none d-md-block mt-1"}," ".concat(e.reviews.length," ").concat(Te(e.reviews.length))),n.a.createElement("p",{className:"price-text mb-0 mt-2 d-inline-block d-md-none"},n.a.createElement("strong",null,et.format(e.price))))),n.a.createElement("div",{className:"box-inner-col price-col"},n.a.createElement("h4",{className:"col-title price-text mb-2"},et.format(e.price)),n.a.createElement("div",null,n.a.createElement(o.b,{to:"/checkout/".concat(e.id),className:"btn btn-primary btn-lg"},"\u041a\u0443\u043f\u0438\u0442\u044c")))))))):n.a.createElement(_e,null)}));const ct=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});const nt={fetchCategories:te,fetchProductsByQuery:function(e){return(t,a)=>{const c=a();!1!==S()(c,"products.byQuery[".concat(e,"].fetching"))&&(t({type:"FetchProductsByQueryRequest",query:e}),L.get("/api/products",{params:{query:e}}).then(a=>{t({type:"FetchProductsByQuerySuccess",query:e,products:a.data.products})}).catch(a=>{t({type:"FetchProductsByQueryFailure",query:e,error:a.response.data.error})}))}}};var rt=Object(l.b)((function(e,t){const a=ee.a.parse(t.location.search);return{categories:e.categories.items,products:e.products.byQuery[a.query]||{}}}),nt)((function({categories:e,products:t,fetchCategories:a,fetchProductsByQuery:r,location:s}){const l=ee.a.parse(s.search);return Object(c.useEffect)(()=>{0!==l.query.length&&(r(l.query),a())},[l.query]),e.length&&t.products&&!t.fetching?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row flex-column-reverse flex-lg-row"},n.a.createElement(Ze,{categories:e}),n.a.createElement("div",{className:"col-lg-9"},0!==t.products.length&&n.a.createElement("h3",{className:"h5 mt-4 mt-md-0 pt-1 mb-4"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"),0===t.products.length&&n.a.createElement("h3",{className:"col-title mb-2 mt-2"},"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(l.query," \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0430\u0439\u0442\u0438 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c")),t.products.map(e=>n.a.createElement("div",{className:"product-list-box",key:e.id},n.a.createElement("div",{className:"box-inner-col description-col"},n.a.createElement(o.b,{to:"/product/".concat(e.id),className:"product-img"},n.a.createElement("img",{src:e.images[0],alt:"img"})),n.a.createElement("div",{className:"product-desc"},n.a.createElement("h4",{className:"col-title mb-2"},n.a.createElement(o.b,{to:"/product/".concat(e.id)},e.title)),n.a.createElement("div",null,new Array(5).fill("").map((t,a)=>n.a.createElement("span",{key:a,className:"fa fa-star".concat(a<e.rating?" checked":"")})),n.a.createElement("span",null," ".concat(e.reviews.length," ").concat(Te(e.reviews.length)))),n.a.createElement("p",{className:"price-text mb-0 mt-2 d-inline-block d-md-none"},n.a.createElement("strong",null,ct.format(e.price))))),n.a.createElement("div",{className:"box-inner-col price-col"},n.a.createElement("h4",{className:"col-title price-text mb-2"},ct.format(e.price)),n.a.createElement("div",null,n.a.createElement(o.b,{to:"/checkout/".concat(e.id),className:"btn btn-primary btn-lg"},"\u041a\u0443\u043f\u0438\u0442\u044c")))))))):n.a.createElement(_e,null)}));function st(e="",t){return t?e.split(" ").map(e=>t[e]||e).join(" "):e}var lt=e=>{const t=e.items,a=e.activeIndex,c=e.cssModule,r=e.onClickHandler,s=e.className,l=st(T()(s,"carousel-indicators"),c),o=t.map((e,t)=>{const s=st(T()({active:a===t}),c);return n.a.createElement("li",{key:"".concat(e.key||Object.values(e).join("")),onClick:e=>{e.preventDefault(),r(t)},className:s},n.a.createElement("img",{src:e,alt:"indicator-img-".concat(e.key)}))});return n.a.createElement("ol",{className:l},o)};class ot extends c.Component{constructor(e){super(e),this.state={activeIndex:0},this.next=this.next.bind(this),this.previous=this.previous.bind(this),this.goToIndex=this.goToIndex.bind(this),this.onExiting=this.onExiting.bind(this),this.onExited=this.onExited.bind(this)}onExiting(){this.animating=!0}onExited(){this.animating=!1}next(){if(this.animating)return;const e=this.state.activeIndex===this.props.images.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}previous(){if(this.animating)return;const e=0===this.state.activeIndex?this.props.images.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}goToIndex(e){this.animating||this.setState({activeIndex:e})}render(){const e=this.state.activeIndex,t=this.props.images.map((e,t)=>n.a.createElement(ve.a,{onExiting:this.onExiting,onExited:this.onExited,key:t},n.a.createElement("div",{className:"img-wrap"},n.a.createElement("img",{src:e,alt:e.altText}))));return n.a.createElement(ye.a,{activeIndex:e,next:this.next,previous:this.previous,className:"product-carousel",images:this.props.images},n.a.createElement(lt,{items:this.props.images,activeIndex:e,onClickHandler:this.goToIndex}),t,n.a.createElement(xe.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),n.a.createElement(xe.a,{direction:"next",directionText:"Next",onClickHandler:this.next}))}}var it=ot,mt=a(251),ut=a(252),dt=a(253);const pt=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});const gt={fetchProductById:Ae};var ht=Object(l.b)((function(e,t){return{product:e.products.byId[t.match.params.id]||{}}}),gt)((function({product:e,fetchProductById:t,match:a}){Object(c.useEffect)(()=>{t(a.params.id)},[a.params.id]);const r=Object(c.useState)("characteristics"),s=Object(y.a)(r,2),l=s[0],i=s[1];function m(e){l!==e&&i(e)}return e.fetching||!e.product?n.a.createElement(_e,null):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-5"},n.a.createElement(it,{images:e.product.images})),n.a.createElement("div",{className:"col-lg-5"},n.a.createElement("div",{className:"product-info"},n.a.createElement("h3",{className:"h5"},e.product.title),n.a.createElement("div",{className:"rate my-2"},new Array(5).fill("").map((t,a)=>n.a.createElement("i",{key:a,className:"icon-star".concat(a<e.product.rating?" checked":"")})),n.a.createElement("span",{className:"rate-amount ml-2"},"".concat(e.product.reviews.length," ").concat(Te(e.product.reviews.length)))),n.a.createElement("div",{className:"row flex-column-reverse flex-lg-row"},n.a.createElement("div",{className:"col-md-7"},n.a.createElement("p",{className:"d-none d-lg-block"},e.product.description))))),n.a.createElement("div",{className:"col-lg-2"},n.a.createElement("h4",{className:"col-title price-text mb-2 mt-0"},pt.format(e.product.price)),n.a.createElement(o.b,{to:"/checkout/".concat(e.product.id),className:"btn btn-primary btn-lg"},"\u041a\u0443\u043f\u0438\u0442\u044c"))),n.a.createElement("div",{className:"row my-4"},n.a.createElement("div",{className:"col-lg-7 offset-lg-5"},n.a.createElement(se.a,{tabs:!0},n.a.createElement(le.a,null,n.a.createElement(mt.a,{className:T()({active:"characteristics"===l}),onClick:()=>{m("characteristics")}},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438")),n.a.createElement(le.a,null,n.a.createElement(mt.a,{className:T()({active:"reviews"===l}),onClick:()=>{m("reviews")}},"\u041e\u0442\u0437\u044b\u0432\u044b"))),n.a.createElement(ut.a,{activeTab:l},n.a.createElement(dt.a,{tabId:"characteristics"},n.a.createElement(ce.a,null,n.a.createElement(ne.a,{sm:"12"},n.a.createElement("dl",{className:"row"},e.product.details.map((e,t)=>n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("dt",{className:"col-sm-7"},e[0]),n.a.createElement("dd",{className:"col-sm-5"},e[1]))))))),n.a.createElement(dt.a,{tabId:"reviews"},n.a.createElement(ce.a,null,n.a.createElement(ne.a,{sm:"12"},n.a.createElement("dl",{className:"row"},e.product.reviews.map((e,t)=>n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("dt",{className:"col-sm-5"},n.a.createElement("p",null,e.author),n.a.createElement("p",null,new Array(5).fill("").map((t,a)=>n.a.createElement("span",{key:a,className:"fa fa-star".concat(a<e.rating?" checked":"")})))),n.a.createElement("dd",{className:"col-sm-7"},n.a.createElement("p",null,e.text))))))))))))})),Et=a(254),bt=a(255);const ft=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"});const vt={fetchProductById:Ae,fetchMe:U,checkout:function(e){return(t,a)=>{const c=a().auth.token;t({type:"CheckoutRequest",data:e}),L.post("/api/orders",e,{headers:{Authorization:"Bearer ".concat(c)}}).then(a=>{t({type:"CheckoutSuccess",data:e,order:a.data.order})}).catch(a=>{t({type:"CheckoutFailure",data:e,errors:a.response.data.errors})})}}};var yt=Object(l.b)((function(e,t){return{product:e.products.byId[t.match.params.id]||{},draft:e.orders.draft,me:e.auth.me,token:e.auth.token}}),vt)((function({token:e,product:t,draft:a,me:r,fetchProductById:s,fetchMe:l,checkout:o,match:i,history:m}){Object(c.useEffect)(()=>{if(!e)return m.replace("/login")},[e,m]),Object(c.useEffect)(()=>{e&&(l(),s(i.params.id))},[e,i.params.id]);const u=Object(c.useState)("initial"),d=Object(y.a)(u,2),p=d[0],g=d[1],h=Object(c.useState)("+71111212123"),E=Object(y.a)(h,2),b=E[0],f=E[1],v=Object(c.useState)("\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c, \u041c\u043e\u0441\u043a\u0432\u0430, \u0420\u043e\u0441\u0441\u0438\u044f"),N=Object(y.a)(v,2),x=N[0],k=N[1];return Object(c.useEffect)(()=>{!0!==a.fetching?a.errors&&"pending"===p?g("initial"):a.errors||"pending"!==p||g("complete"):g("pending")},[a]),t.fetching||!t.product||r.fetching||!r.profile?n.a.createElement(_e,null):n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-lg-10"},n.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),o({product:i.params.id,phone:b,address:x})}},n.a.createElement("h3",{className:"h5 mb-4 mt-4 text-md-center"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"),!!a.errors&&Object.keys(a.errors).map(e=>n.a.createElement(Et.a,{color:"warning",key:e},a.errors[e])),"complete"===p&&n.a.createElement(Et.a,{color:"primary"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0431\u044b\u043b \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d. \u041d\u0430 \u0432\u0430\u0448 email \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435."),n.a.createElement("div",{className:"product-list-box"},n.a.createElement("div",{className:"box-inner-col description-col"},n.a.createElement("div",{className:"product-img"},n.a.createElement("img",{src:t.product.images[0],alt:"img"})),n.a.createElement("div",{className:"product-desc"},n.a.createElement("h4",{className:"col-title mb-2"},t.product.title),n.a.createElement("p",{className:"price-text mb-0 mt-2 d-inline-block d-md-none"},n.a.createElement("strong",null,ft.format(t.product.price))))),n.a.createElement("div",{className:"box-inner-col price-col justify-content-center"},n.a.createElement("p",{className:"mb-0 font-weight-light"},"Total:"),n.a.createElement("h4",{className:"col-title price-text mb-2"},ft.format(t.product.price)))),"complete"!==p&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"h5 mb-4 mt-5 text-md-center"},"\u0414\u0435\u0442\u0430\u043b\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"),n.a.createElement("div",{className:"jumbotron jumbotron-light jumbotron-form mb-0"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement(K.a,null,n.a.createElement(bt.a,{for:"exampleInput"},"\u0418\u043c\u044f:"),n.a.createElement(q.a,{disabled:!0,value:r.profile.displayName,type:"text",className:"form-control",id:"exampleInput"})),n.a.createElement(K.a,{className:"mb-4"},n.a.createElement(bt.a,{for:"exampleInput2"},"Email:"),n.a.createElement("input",{disabled:!0,value:r.profile.email,type:"email",className:"form-control",id:"exampleInput2"}))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement(K.a,null,n.a.createElement(bt.a,{for:"exampleInput3"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"),n.a.createElement("input",{value:b,type:"text",className:"form-control",id:"exampleInput3",disabled:"complete"===p,onChange:e=>f(e.target.value),placeholder:"+7 111 12 12 123"})),n.a.createElement(K.a,{className:"mb-4"},n.a.createElement(bt.a,{for:"exampleInput4"},"\u0410\u0434\u0440\u0435\u0441:"),n.a.createElement(q.a,{value:x,type:"text",className:"form-control",id:"exampleInput4",onChange:e=>k(e.target.value),disabled:"complete"===p,placeholder:"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c, \u041c\u043e\u0441\u043a\u0432\u0430, \u0420\u043e\u0441\u0441\u0438\u044f"}))))),n.a.createElement("div",{className:"text-center mt-2 mb-5 my-sm-5"},n.a.createElement(O.a,{disabled:"complete"===p,type:"submit",color:"primary",size:"lg"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0438 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"))),"complete"===p&&n.a.createElement("div",{className:"text-center mt-2 mb-5 my-sm-5"},n.a.createElement(O.a,{onClick:function(e){e.preventDefault(),m.replace("/")},color:"primary",size:"lg"},"\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"))))))}));s.a.render(n.a.createElement(l.a,{store:v},n.a.createElement(o.a,null,n.a.createElement((function({children:e}){return n.a.createElement(n.a.Fragment,null,n.a.createElement(ie,null),n.a.createElement("main",{role:"main"},e,n.a.createElement("div",{className:"d-none d-lg-block"},n.a.createElement(z,{isFixed:!0,isCollapsed:!0}))),n.a.createElement(me,null))}),null,n.a.createElement(i.b,{exact:!0,path:"/",component:De}),n.a.createElement(i.b,{path:"/login",component:Ue}),n.a.createElement(i.b,{path:"/oauth/:provider",component:Ge}),n.a.createElement(i.b,{path:"/register",component:Xe}),n.a.createElement(i.b,{path:"/confirm/:verificationToken",component:$e}),n.a.createElement(i.b,{path:"/category/:category",component:at}),n.a.createElement(i.b,{path:"/search",component:rt}),n.a.createElement(i.b,{path:"/product/:id",component:ht}),n.a.createElement(i.b,{path:"/checkout/:id",component:yt})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[104,1,2]]]);
//# sourceMappingURL=main.c55d51d5.chunk.js.map